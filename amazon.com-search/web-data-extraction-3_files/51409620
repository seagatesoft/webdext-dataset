var impressionTagOptions = {"creatives":{"429986":{"size":{"width":160,"height":600},"processors":{"6167":null},"channels":{"externalPage":true,"feature":{"dynodeBaseUrl":"https://dynode.spongecell.com","studioAssetBaseUrl":"https://live-ssl.cdn.spongecell.com","ipLocateUrl":"https://dynamic.spongecell.com/location.js","locationsUrl":"https://locations-ssl.cdn.spongecell.com/api/locations.js","features":[{"id":65311,"featureType":"dynamic","name":"207x12_GETNOW_HBOSHOW","feedId":null,"importId":null,"processorId":6167,"masterAssetId":null,"type":"dynamic","provider":"CreativeServerContent","creativeServerUrl":"https://dynamic.spongecell.com/v3/items/6167","url":"https://dynode.spongecell.com/processors/6167.js?","fallback":{"id":6167,"name":"New Millennial - #Adulting","campaignId":13149,"weighted":false,"dynamicWeights":false,"companyId":1300,"signals":[{"id":9056,"name":"Version","type":"custom"}],"items":[{"id":550471,"default":false,"Name":{"text":"DIGI_GM_DHV_OFFACQ_ENG_59BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML"},"copy2":{"text":"#adulting"},"copy3":{"text":"Stream more shows with the best in-home WiFi experience."},"copydevices":{"text":"\u003ci\u003eBillions\u003c/i\u003e available with SHOWTIME® at xfinity.com/stream and on XFINITY Stream app"},"offerTitle":{"text":"XFINITY Internet Pro Plus"},"symbol":{"text":"$"},"offerPrice":{"text":"59"},"offerCent":{"text":"99"},"offerRange":{"text":"a month/\u003cbr\u003e12 months"},"offerTerms":{"text":"Online Exclusive"},"offerBoltOn":{"text":"Binge-watch like a boss."},"offerBoltOn2":{"text":"\u003cb\u003eSHOWTIME®\u003cb\u003e or \u003cb\u003eHBO®\u003cb\u003e included for 12 months"},"ctatxt":{"text":"Get It Now"},"copy1_2":{"text":"Still get to work on time."},"copy1":{"text":"Binge-watch \u003ci\u003eBillions\u003c/i\u003e all night."}}],"properties":[{"id":65990,"name":"Name","dataType":"text","variant":null},{"id":71418,"name":"copy1","dataType":"text","variant":null},{"id":66146,"name":"copy1_2","dataType":"text","variant":null},{"id":65991,"name":"copy2","dataType":"text","variant":null},{"id":65992,"name":"copy3","dataType":"text","variant":null},{"id":65993,"name":"copydevices","dataType":"text","variant":null},{"id":65994,"name":"offerTitle","dataType":"text","variant":null},{"id":65995,"name":"symbol","dataType":"text","variant":null},{"id":65996,"name":"offerPrice","dataType":"text","variant":null},{"id":65997,"name":"offerCent","dataType":"text","variant":null},{"id":65998,"name":"offerRange","dataType":"text","variant":null},{"id":65999,"name":"offerTerms","dataType":"text","variant":null},{"id":66000,"name":"offerBoltOn","dataType":"text","variant":null},{"id":66001,"name":"offerBoltOn2","dataType":"text","variant":null},{"id":66002,"name":"ctatxt","dataType":"text","variant":null}]},"signalValues":[{"id":558676,"signalId":9056,"value":"V2"}]}]},"mraid":{"mraid":true},"setup":{"features":[{"id":65311,"featureType":"dynamic","name":"207x12_GETNOW_HBOSHOW","label":null,"masterAssetId":null,"processorId":6167,"itemIndex":null,"dynamicContent":true,"settings":{}}],"landingPages":{"54603":"https://www.xfinity.com/cable-internet-packages.html?dfaid=4053494\u0026cmp=0\u0026cid=4053494","54634":"https://www.xfinity.com/internet-service.html?dfaid=4053494\u0026cmp=0\u0026cid=4053494","70385":"https://www.xfinity.com/learn/internet-service?dfaid=4053494\u0026cmp=0\u0026cid=4053494","":"https://www.xfinity.com/cable-internet-packages.html?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"api":{"landingPages":{"54603":{"id":54603,"url":"https://www.xfinity.com/cable-internet-packages.html?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"64270":{"id":64270,"url":"https://www.xfinity.com/apps?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"54638":{"id":54638,"url":"https://www.xfinity.com/Corporate/Learn/Bundles/bundles.html?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"71009":{"id":71009,"url":"https://www.xfinity.com/cable-internet-packages.html?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"54665":{"id":54665,"url":"https://www.xfinity.com/compare.html?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"54647":{"id":54647,"url":"https://secure.xfinity.com/customerexperience?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"64465":{"id":64465,"url":"https://www.xfinity.com/customer-home?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"54637":{"id":54637,"url":"https://www.xfinity.com/corporate/learn/digitalcable/digitalcable?#tvdigitaleconomy?dfaid=4053494\u0026cmp=0\u0026cid=4053494?"},"68509":{"id":68509,"url":"https://www.xfinity.com/get-stream?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"64597":{"id":64597,"url":"https://www.xfinity.com/gig?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"54732":{"id":54732,"url":"https://www.xfinity.com/gigabit-internet?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"65602":{"id":65602,"url":"https://www.xfinity.com?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"54666":{"id":54666,"url":"https://www.xfinity.com/home-security.html?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"64594":{"id":64594,"url":"https://www.xfinity.com/internetplusx1?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"54634":{"id":54634,"url":"https://www.xfinity.com/internet-service.html?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"70385":{"id":70385,"url":"https://www.xfinity.com/learn/internet-service?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"54684":{"id":54684,"url":"https://www.xfinity.com/myaccount?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"66375":{"id":66375,"url":"https://www.xfinity.com/Netflix?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"56133":{"id":56133,"url":"https://www.xfinity.com?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"57426":{"id":57426,"url":"tel://2125555555"},"68855":{"id":68855,"url":"https://www.xfinity.com/renewal?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"66347":{"id":66347,"url":"https://www.xfinity.com/seasonal?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"55694":{"id":55694,"url":"https://www.xfinity.com/Corporate/shop/productoverview.html?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"55695":{"id":55695,"url":"http://www.xfinity.com/streamtv"},"54682":{"id":54682,"url":"https://www.xfinity.com/lp/ppc/upgrade-xfinity-internet-service?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"54676":{"id":54676,"url":"https://wifi.xfinity.com/?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"54685":{"id":54685,"url":"https://www.xfinity.com/x1.html?dfaid=4053494\u0026cmp=0\u0026cid=4053494"},"71939":{"id":71939,"url":"https://www.xfinity.com/xfi?dfaid=4053494\u0026cmp=0\u0026cid=4053494"}}},"studioAssetBaseUrl":"https://live-ssl.cdn.spongecell.com","border":{"thickness":1,"color":"rgb(0, 0, 0)"},"assets":{"1316064":{"label":"DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x250.html","path":"/studio/assets/1333321/original/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x250.html","width":null,"height":null,"contentType":"text/html"},"1316065":{"label":"DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x250.jpg","path":"/studio/assets/1333342/full/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x250.jpg","width":300,"height":250,"contentType":"image/jpeg"},"1316066":{"label":"DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x250.html","path":"/studio/assets/1478107/original/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x250.html","width":null,"height":null,"contentType":"text/html"},"1316067":{"label":"DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x250.jpg","path":"/studio/assets/1340105/full/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x250.jpg","width":300,"height":250,"contentType":"image/jpeg"},"1316068":{"label":"DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x250.jpg","path":"/studio/assets/1340891/full/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x250.jpg","width":300,"height":250,"contentType":"image/jpeg"},"1316069":{"label":"DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x250.jpg","path":"/studio/assets/1342317/full/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x250.jpg","width":300,"height":250,"contentType":"image/jpeg"},"1316070":{"label":"DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x600.html","path":"/studio/assets/1475977/original/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x600.html","width":null,"height":null,"contentType":"text/html"},"1316071":{"label":"DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x600.jpg","path":"/studio/assets/1352879/full/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x600.jpg","width":300,"height":600,"contentType":"image/jpeg"},"1316072":{"label":"DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_160x600.html","path":"/studio/assets/1475955/original/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_160x600.html","width":null,"height":null,"contentType":"text/html"},"1316073":{"label":"DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_160x600.jpg","path":"/studio/assets/1352887/full/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_160x600.jpg","width":160,"height":600,"contentType":"image/jpeg"},"1316074":{"label":"DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_728x90.html","path":"/studio/assets/1476036/original/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_728x90.html","width":null,"height":null,"contentType":"text/html"},"1316075":{"label":"DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_728x90.jpg","path":"/studio/assets/1352896/full/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_728x90.jpg","width":728,"height":90,"contentType":"image/jpeg"},"1316076":{"label":"DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_728x90.jpg","path":"/studio/assets/1519748/full/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_728x90.jpg","width":728,"height":90,"contentType":"image/jpeg"},"1316077":{"label":"DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x250.jpg","path":"/studio/assets/1519749/full/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x250.jpg","width":300,"height":250,"contentType":"image/jpeg"},"1316078":{"label":"DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_160x600.jpg","path":"/studio/assets/1519750/full/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_160x600.jpg","width":160,"height":600,"contentType":"image/jpeg"},"1316079":{"label":"DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x600.jpg","path":"/studio/assets/1519751/full/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_300x600.jpg","width":300,"height":600,"contentType":"image/jpeg"},"1":{"label":"SC_LeftArrow_up.png","path":"/studio/assets/102777/full/SC_LeftArrow_up.png","width":40,"height":40,"contentType":"image/png"},"2":{"label":"SC_LeftArrow_over.png","path":"/studio/assets/102778/full/SC_LeftArrow_over.png","width":40,"height":40,"contentType":"image/png"},"3":{"label":"SC_RightArrow_up.png","path":"/studio/assets/102779/full/SC_RightArrow_up.png","width":40,"height":40,"contentType":"image/png"},"4":{"label":"SC_RightArrow_over.png","path":"/studio/assets/102780/full/SC_RightArrow_over.png","width":40,"height":40,"contentType":"image/png"},"5":{"label":"SC_CloseBtn_up.png","path":"/studio/assets/102781/full/SC_CloseBtn_up.png","width":26,"height":26,"contentType":"image/png"},"6":{"label":"SC_CloseBtn_over.png","path":"/studio/assets/102782/full/SC_CloseBtn_over.png","width":26,"height":26,"contentType":"image/png"},"7":{"label":"SC_CloseBtn_down.png","path":"/studio/assets/102783/full/SC_CloseBtn_down.png","width":26,"height":26,"contentType":"image/png"},"8":{"label":"SC_MapMarker_active.png","path":"/studio/assets/102784/full/SC_MapMarker_active.png","width":18,"height":30,"contentType":"image/png"},"9":{"label":"SC_MapMarker_inactive.png","path":"/studio/assets/102785/full/SC_MapMarker_inactive.png","width":18,"height":30,"contentType":"image/png"},"873612":{"label":"Placeholder.mp4 (15s)","path":"/studio/assets/1128951/original/Placeholder.mp4","width":null,"height":null,"contentType":"video/mp4"},"873613":{"label":"Placeholder.mp4 (30s)","path":"/studio/assets/1128952/original/Placeholder.mp4","width":null,"height":null,"contentType":"video/mp4"},"1267719":{"label":"Inline Placeholder (15s) ","path":"/studio/assets/1532390/full/Placeholder.jpg","width":1800,"height":1521,"contentType":"image/jpeg","settings":{"quality":85,"start_time":0,"end_time":5,"frame_rate":10,"frames":50,"width":300,"height":169,"source_id":873612}},"1327656":{"label":"Inline Placeholder (15s) 2","path":"/studio/assets/1564435/full/Placeholder.jpg","width":1920,"height":720,"contentType":"image/jpeg","settings":{"quality":85,"start_time":3,"end_time":5,"frame_rate":10,"frames":20,"width":320,"height":180,"source_id":873612}}},"loading":{"strategy":"home"},"formatSettings":{"mobile":null}},"tracking":{"heatMapBaseUrl":"https://fire.spongecell.com","trackingBaseUrl":"https://analytics.spongecell.com/ad_tags","coreIid":"5LnaU8VwjBB-5dNz8q0kaR","srParams":"loc=20109%2C511%2Cmanassas%2Cva%2Cus&strategy_fallback=false&targetingContainerId=215568&conceptGroupId=112543&tgc=4TtErviax2mE6Ai1yhgoy5tcVe2KfaNkwJ6NxThULQ4BZiddCeupcuFHFUN1jmrRJcFStV1LMc3nNXUE9dNYS&tg=197,2287,2288,2452,335,341,4054,4056,427,4672,4681,5109,540,6,609,611,974,975,976,977,978,979,980&tgm=540,971,5109","heatMapEnabled":true,"trackingEnabled":true,"macros":{"placementId":["%epid!","SPONGECELL_PLACEMENT_ID"],"siteId":["%s","SPONGECELL_SITE_ID"],"activityPixel":["SPONGECELL_ACTIVITY_PIXEL"]},"pixels":{"impression":"https://log.dmtry.com/redir/1/0/3879/${placement.id}/${creative.id}/1/194/0/1024/1.ver?at=i\u0026cus.cam=10698201\u0026cus.sit=${site.name}\u0026cus.aam=not_present\u0026d=PxImp","impressions":["https://log.dmtry.com/redir/1/0/3879/${placement.id}/${creative.id}/1/194/0/1024/1.ver?at=i\u0026cus.cam=10698201\u0026cus.sit=${site.name}\u0026cus.aam=not_present\u0026d=PxImp"],"dynode":null,"dynodes":[],"core":null,"cores":[],"engagement":null,"engagements":[],"completion":null,"completions":[],"expansion":null,"expansions":[],"clickThrough":null,"clickThroughs":[],"start":null,"starts":[],"firstQuartile":null,"firstQuartiles":[],"midpoint":null,"midpoints":[],"thirdQuartile":null,"thirdQuartiles":[],"complete":null,"completes":[],"thirdPartyTags":null},"adTag":{"id":51409620,"name":"Northeast - Acquisition"},"brand":{"id":1300},"campaign":{"id":13149},"container":{"id":16910},"creative":{"id":429986,"name":"DIGI_GM_DHV_OFFACQ_ENG_59BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML New URL","width":160,"height":600},"concept":{"id":63449},"conceptGroup":{"id":112543},"weight":{"value":1.0},"rotationGroup":{"id":92586},"conceptFrequencyEnabled":false,"conceptGroupFrequencyEnabled":false,"targetingContainer":{"id":215568,"fallback":false},"flight":{"id":40420,"name":"Mediavest 2017","externalThirdPartyTags":false},"placement":{"id":"%epid!","name":"DIGI_GM_DHV_OFFACQ_ENG_59BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML New URL"},"site":{"id":""}},"loading":{"animation":{"type":"circle","bgColor":"rgb(255, 255, 255)","fgColor":"rgb(0, 0, 0)"}}},"tags":{"backup":{"imageUrl":"https://live-ssl.cdn.spongecell.com/studio/assets/1519750/full/DIGI_GM_DHV_OFFACQ_ENG_49BUC7ST113MIL207x12_GETNOW_HBOSHOW_HTML_160x600.jpg","linkUrl":"https://www.xfinity.com/learn/internet-service?dfaid=4053494\u0026cmp=0\u0026cid=4053494","border":{"thickness":1,"color":"rgb(0, 0, 0)"},"html5":true,"size":{"width":160,"height":600}},"studioScript":{"loading":"initial","border":{"thickness":1,"color":"rgb(0, 0, 0)"},"adTagId":51409620,"jsUrl":"https://royale-ssl.cdn.spongecell.com/studio/ads/100029/957084.js","cssUrl":"https://royale-ssl.cdn.spongecell.com/studio/ads/100029/957084.css"},"studioIframe":{"loading":"initial","size":{"width":160,"height":600},"baseSize":{"width":160,"height":600},"border":{"thickness":1,"color":"rgb(0, 0, 0)"},"iframeUrl":"https://royale-ssl.cdn.spongecell.com/studio/ads/100029/957084","iframeBaseUrl":"https://royale-ssl.cdn.spongecell.com"}},"weight":1.0}},"channels":{"externalPage":true,"modern_feature":true,"mraid":true,"setup":true,"tracking":true,"loading":true},"tags":{"backup":true,"studioScript":true,"studioIframe":true}};
(function(){var e,t;e="undefined"!=typeof window&&null!==window?window:global,t=null!=e.spongecell?e.spongecell:e.spongecell={},t.Cookie=function(){function e(){}return e.createCookie=function(e,t,n){var i,r;return null==n&&(n=24),navigator.cookieEnabled?(i=new Date,i.setTime(i.getTime()+60*parseInt(n)*60*1e3),r="; expires="+i.toGMTString(),document.cookie=e+"="+t+r+"; path=/"):null},e.readCookie=function(e){var t,n,i,r,o,a;if(!navigator.cookieEnabled)return null;for(a=e+"=",n=document.cookie.split(";"),i=0,r=0,o=n.length;o>r;r++)if(t=n[r]," "===t[0]&&(t=t.substring(1,t.length)),0===t.indexOf(a))return t.substring(a.length,t.length);return null},e}()}).call(this),function(){var e,t;e="undefined"!=typeof window&&null!==window?window:global,t=null!=e.spongecell?e.spongecell:e.spongecell={},t.Browser=function(){function e(){}var t,n;return t=/Android ([2].?[3-9].?[0-9]?|[4-8].?[0-9].?[0-9]?)/i,e.detect=function(e){var n,i,r,o,a,s,l,u,c;return null==e&&(e=navigator.userAgent),a=null!=(s=e.match(/(ipod|iphone|ipad)/i))&&null!=(l=s[1])?l.toLowerCase():void 0,n=/android/i.test(e),o=function(t){var n;return n=e.match(t),parseFloat(null!=n?n[1]:void 0)||""},c=o(/version\/(\d+(\.\d+)?)/i),i=/chrome.+? edge/i.test(e)?{msedge:!0,version:o(/edge\/(\d+(\.\d+)?)/i)}:/chrome|crmo|spotify|crios/i.test(e)?{chrome:!0,version:o(/(?:chrome|crmo|spotify)\/(\d+(\.\d+)?)/i)}:/firefox/i.test(e)?{firefox:!0,version:o(/(?:firefox)[ \/](\d+(\.\d+)?)/i)}:/msie|trident/i.test(e)?(u=o(/(?:msie |rv:)(\d+(\.\d+)?)/i),r={msie:!0,version:u},10>u?r.unsupported=!0:void 0,r):/phantom/i.test(e)?{phantom:!0}:/safari/i.test(e)&&!/android/i.test(e)?{safari:!0,version:c,unsupported:5.2>c}:void 0,a?(null==i&&(i={}),i.ios=!0,i.iosVersion=c,delete i.unsupported,i.mobile=!0):n&&(null==i&&(i={}),i.android=!0,i.androidVersion=o(/android (\d+(\.\d+)?)/i),i.mobile=!0,t.test(e)||(i.unsupported=!0)),null==i&&(i={unsupported:!0}),i},n=e.detect(),e.supported=function(){return!n.unsupported},e.isAndroidSupported=function(){return n.android&&t.test(navigator.userAgent)},e.isAndroidGingerbread=function(){return n.android&&n.androidVersion>=2.3&&n.androidVersion<3},e.isAndroidIceCreamSandwich=function(){return n.android&&n.androidVersion>=4&&n.androidVersion<4.1},e.isAndroidJellyBean=function(){return n.android&&n.androidVersion>=4.1&&n.androidVersion<4.4},e.isAndroidLollipop=function(){return n.android&&n.androidVersion>=5&&n.androidVersion<6},e.isAndroid=function(){return n.android},e.isiOS=function(){return n.ios},e.isIE8=function(){return n.msie&&8===+n.version},e.isIE9=function(){return n.msie&&9===+n.version},e.isIE10=function(){return n.msie&&10===+n.version},e.isIE11=function(){return n.msie&&11===+n.version},e.isIE9Below=function(){return n.msie&&+n.version<=9},e.isIE10Below=function(){return n.msie&&+n.version<=10},e.isIE=function(){return n.msie},e.isiOS5=function(){return n.ios&&5===+n.iosVersion},e.isMobile=function(){return n.android||n.ios||/tablet|[^-]mobi/i.test(navigator.userAgent)},e.isChrome=function(){return n.chrome},e.isFirefox=function(){return n.firefox},e.isSafari=function(){return n.safari},e.isPhantom=function(){return n.phantom},e.isWindowsSafari=function(){return/Windows.*AppleWebKit.*Safari/.test(navigator.userAgent)&&!/Chrome|Spotify/.test(navigator.userAgent)},e.supportsFullscreen=function(){return!this.isIE()&&!this.isWindowsSafari()},e.supportsSrcdoc=function(){return!this.isSafari()&&!this.isChrome()},e.supportsLinkOnload=function(){return!(n.android&&!n.chrome||n.safari&&n.version<6)},e.detectsSrcdoc=function(){return"about:srcdoc"===window.location.href},e}()}.call(this),function(){var e,t,n=[].slice;e="undefined"!=typeof window&&null!==window?window:global,t=null!=e.spongecell?e.spongecell:e.spongecell={},t.Console=function(){function e(){}return e.ENABLED=function(){var e,n;try{return!!(null!=(n=t.Cookie)?n.readCookie("_console_logging"):void 0)}catch(i){return e=i,!1}}(),e.log=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?n.call(arguments,1):[],this.ENABLED&&window.console?null!=window.console.log.apply?(i=window.console).log.apply(i,[t].concat(n.call(e))):window.console.log(t):void 0},e.debug=function(){var e,i,r,o,a;return i=arguments[0],e=2<=arguments.length?n.call(arguments,1):[],this.ENABLED&&window.console?null!=(null!=(r=window.console.debug)?r.apply:void 0)?(o=window.console).debug.apply(o,[i].concat(n.call(e))):(a=t.Console).log.apply(a,[i].concat(n.call(e))):void 0},e.pad=function(e,t){var n;for(n=e||"";n.length<t;)n+=" ";return n},e.groupCollapsedSupported=function(){var e,t,n;try{return null!=(null!=(t=window.console)&&null!=(n=t.groupCollapsed)?n.apply:void 0)}catch(i){return e=i,!1}},e.group=function(){var e,i,r,o;return i=arguments[0],e=2<=arguments.length?n.call(arguments,1):[],this.ENABLED?this.groupCollapsedSupported()?(r=window.console).groupCollapsed.apply(r,[i].concat(n.call(e))):(o=t.Console).log.apply(o,[i].concat(n.call(e))):void 0},e.groupEnd=function(){var e;return this.ENABLED&&(null!=(e=window.console)?e.groupEnd:void 0)?window.console.groupEnd():void 0},e}()}.call(this),function(){"use strict";var e,t;e="undefined"!=typeof window&&null!==window?window:global,t=null!=e.spongecell?e.spongecell:e.spongecell={},t.Engagement=function(){function e(){}return e.wrapperHtml=function(e){var t,n,i;return t=e.id,i=e.zIndex,n=t?"id="+t:"",null==i&&(i=5),'<div class="outer-wrapper" '+n+'\n  style="position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: '+i+';">\n</div>'},e.removeWrappers=function(e){var t,n,i,r,o,a;for(null==e&&(e=null),e?n=[document.getElementById(e)]:null==n&&(n=document.querySelectorAll(".outer-wrapper")),a=[],i=0,r=n.length;r>i;i++)t=n[i],a.push(null!=t&&null!=(o=t.parentNode)?o.removeChild(t):void 0);return a},e.onHover=function(e,t){var n,i,r,o,a,s,l,u,c,d,h,p,f;return u=null!=t?t:{},a=u.node,c=u.repeatInterval,a||(this.topOnHoverCallback=e,null==a&&(a=document.querySelectorAll(".wrapper")[0])),o=200,h=32,n=null,i=null,f=function(e){return n=e.pageX,i=e.pageY},p=null,s=null,l=null,d=function(e){return s=n,l=i,p=setTimeout(function(){return r(e)},o)},r=function(t){return function(o){var u,g,m;return g=r.prev,null==n||null==i||null==s||null==l?d(o):(u=Math.abs(n-s)+Math.abs(i-l),m=null==g&&0===u,h>u&&!m?(null!=t.topOnHoverCallback&&(t.topOnHoverCallback(),t.topOnHoverCallback=null),a.removeEventListener("mousemove",f),e!==t.topOnHoverCallback&&(e(),r.prev=null),null!=c?p=setTimeout(function(){return r(o)},c):void 0):(r.prev=m?null:u,d(o)))}}(this),a.addEventListener("mouseenter",function(){return function(e){return s=e.pageX,l=e.pageY,a.addEventListener("mousemove",f),p=setTimeout(function(){return r(e)},o)}}(this)),a.addEventListener("mouseleave",function(){return function(){return a.removeEventListener("mousemove",f),n=i=null,clearTimeout(p)}}(this))},e}()}.call(this),function(){var e,t;e="undefined"!=typeof window&&null!==window?window:global,t=null!=e.spongecell?e.spongecell:e.spongecell={},t.Event=function(){function e(){}var n;return e.onLoad=function(e){return document&&"complete"===document.readyState?void setTimeout(function(){return e()},0):"undefined"!=typeof document.addEventListener?document.addEventListener("DOMContentLoaded",e,!1):"undefined"!=typeof window.addEventListener?window.addEventListener("DOMContentLoaded",e,!1):"undefined"!=typeof window.attachEvent?window.attachEvent("onload",e):void 0},e.on=function(e,t,n){return"undefined"!=typeof document.addEventListener?e.addEventListener(t,n,!1):"undefined"!=typeof document.attachEvent?e.attachEvent("on"+t,n):void 0},e.addMessageListener=function(e,t){return null==t&&(t=window),null!=t.addEventListener?t.addEventListener("message",n(e),!1):null!=t.attachEvent?t.attachEvent("onmessage",n(e)):void 0},n=function(e){return function(n){var i,r;if("mocha-zero-timeout"!==n.data)try{i=JSON.parse(n.data)}catch(o){return r=o,void t.Console.debug("Iframe parse error: %o",r)}return e(i,n)}},e}()}.call(this),function(){var e,t;e="undefined"!=typeof window&&null!==window?window:global,t=null!=e.spongecell?e.spongecell:e.spongecell={},t.Expansion=function(){function n(){}return n.getWindow=function(){var t;return this.allowedAccessToTop()?null!=e&&null!=(t=e.top)?t:window:null!=e?e:window},n.getDocument=function(t){return null==t&&(t="expandable"),this.inIframe()&&"overlay"!==t?e.document:this.getWindow().document},n.documentDimensions=function(){var e,n;return t.Browser.isMobile()?{height:screen.height,width:screen.width}:(e=this.getDocument(),n=this.getWindow(),{height:n.innerHeight||e.documentElement.clientHeight||e.body.clientHeight,width:n.innerWidth||e.documentElement.clientWidth||e.body.clientWidth})},n.inIframe=function(){var t;try{return e!==top}catch(n){return t=n,!0}},n.inFriendlyIframes=function(){var t,n;try{e.top.window.whatever===!0&&(t=!0)}catch(i){return n=i,!1}return!0},n.allowedAccessToTop=function(){return!this.inIframe()||this.inFriendlyIframes()?(t.Console.log("allowed access to parent window"),!0):!1},n.fixedPositionSupported=function(){var e,t,n,i;return t=this.getDocument(),n=1,i=!1,e=t.createElement("div"),e.style.position="fixed",e.style.top="0px",e.style.right="0px",t.body.appendChild(e),"number"==typeof e.offsetTop&&null!==e.offsetTop&&"undefined"!==e.offsetTop&&(n=parseInt(e.offsetTop)),0===n&&(i=!0),e.parentNode.removeChild(e),i},n.panelLargerThanWindow=function(e){var t,n,i;return i=this.getWindow(),t=i.innerHeight?i.document.documentElement.clientHeight:i.document.body.scrollHeight,n=i.innerWidth?i.document.documentElement.clientWidth:i.document.body.scrollWidth,t<e.height||n<e.width?!0:!1},n.calcPositions=function(e,t){return t.x||t.y?this.calcAbsolutePositions(e,t):this.fixedPositionSupported()?this.calcFixedPositions(e):this.calcAbsolutePositions(e)},n.calcFixedPositions=function(e){var n,i,r,o,a,s,l,u,c,d;return n=this.getDocument(),u=this.getWindow(),o=e.height,l=e.width,i=this.documentDimensions().height,r=this.documentDimensions().width,s=(i-o)/2-1,d=this.panelLargerThanWindow(e)||0>s?0:s,a=(r-l)/2-1,c=0>a?0:a,t.Browser.isMobile()?["absolute",0,0]:["fixed",Math.round(c),Math.round(d)]},n.calcAbsolutePositions=function(e,n){var i,r,o,a,s,l,u,c,d,h,p,f,g;return null==n&&(n={}),i=this.getDocument(),p=this.getWindow(),a=e.height,h=e.width,n.x=n.x?parseInt(n.x):0,n.y=n.y?parseInt(n.y):0,r=this.documentDimensions().height,o=this.documentDimensions().width,c=this.scrollPositions(),u=c[0],d=c[1],l=d+(r-a)/2-1,g=this.panelLargerThanWindow(e)||0>l?0:l,s=u+(o-h)/2-1,f=0>s?0:s,t.Browser.isMobile()?["absolute",0,0]:["absolute",Math.round(f+n.x),Math.round(g+n.y)]},n.scrollPositions=function(){var e,t,n;return t=this.getDocument(),n=this.getWindow(),e=t.body,"number"==typeof n.pageYOffset?[n.pageXOffset,n.pageYOffset]:e&&(e.scrollLeft||e.scrollTop)?[e.scrollLeft,e.scrollTop]:t.documentElement&&(t.documentElement.scrollLeft||t.documentElement.scrollTop)?[t.documentElement.scrollLeft,t.documentElement.scrollTop]:[0,0]},n.safeFrameExpansionParams=function(e){var t,n,i,r,o,a,s,l,u,c,d,h,p;if(r=e.coords,u=e.initialDims,s=e.expansionDims,o=e.direction,h=e.type,l={push:"push"===h&&$sf.ext.supports()["exp-push"]},"overlay"===h)p=r.win,a=r.exp,c=(p.w-s.width)/2,d=(p.h-s.height)/2,t=r.self,n=a.l>c?c-a.l:a.l-c,i=a.t>d?d-a.t:a.t-d,l.l=-1*n,l.r=+a.l-l.l+s.width-(+a.l+u.width),l.t=-1*i,l.b=+a.t-l.t+s.height-(+a.t+u.height);else switch(null==o&&(o="down"),o){case"left":l.l=s.width-u.width,l.t=s.height>=u.height?u.height-s.height:s.height-u.height;break;case"right":l.r=s.width-u.width,l.t=s.height>=u.height?u.height-s.height:s.height-u.height;break;case"up":l.t=u.height-s.height,l.l=s.width>=u.width?u.width-s.width:s.width-u.width;break;case"down":l.b=s.height-u.height,l.l=s.width>=u.width?u.width-s.width:s.width-u.width}return l},n}()}.call(this),function(){var e,t=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=["extended","included"],spongecell.Module=function(){function n(){}return n.extend=function(n){var i,r,o;for(i in n)o=n[i],t.call(e,i)<0&&(this[i]=o);return null!=(r=n.extended)&&r.apply(this),this},n.include=function(n){var i,r,o;for(i in n)o=n[i],t.call(e,i)<0&&(this.prototype[i]=o);return null!=(r=n.included)&&r.apply(this),this},n}()}.call(this),!function(e){function t(e,t){return function(){e.apply(t,arguments)}}function n(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,t(r,this),t(o,this))}function i(e){var t=this;return null===this._state?void this._deferreds.push(e):void u(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var i;try{i=n(t._value)}catch(r){return void e.reject(r)}e.resolve(i)})}function r(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void l(t(n,e),t(r,this),t(o,this))}this._state=!0,this._value=e,a.call(this)}catch(i){o.call(this,i)}}function o(e){this._state=!1,this._value=e,a.call(this)}function a(){for(var e=0,t=this._deferreds.length;t>e;e++)i.call(this,this._deferreds[e]);this._deferreds=null}function s(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function l(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(r){if(i)return;i=!0,n(r)}}var u=n.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var r=this;return new n(function(n,o){i.call(r,new s(e,t,n,o))})},n.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new n(function(t,n){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(o,e)},n)}e[o]=a,0===--r&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)i(o,e[o])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,n){n(e)})},n.race=function(e){return new n(function(t,n){for(var i=0,r=e.length;r>i;i++)e[i].then(t,n)})},"undefined"!=typeof module&&module.exports?module.exports=n:e.Promise||(e.Promise=n)}(this),function(){"use strict";var e,t;t=null!=window.spongecell?window.spongecell:window.spongecell={},e=null!=t.requestMap?t.requestMap:t.requestMap={},t.Net=function(){function n(){}return n.isSSL=function(){return"http:"!==document.location.protocol&&null!=document.baseURI&&document.baseURI.indexOf("http:")<0},n.isHttp=function(e){return!!/^https?\:\/\//i.test(e)},n.isHttpEncoded=function(e){return/^https?\%3a\%2f\%2f/i.test(e)},n.encode=function(e){return e?encodeURIComponent(e):null},n.writePixel=function(e,n){var i,r;return t.Net.isHttp(e)?(i=document.createElement("div"),i.setAttribute("style","position:absolute;left:0px;top:0px;visibility:hidden;"),r=document.createElement("img"),r.setAttribute("width",0),r.setAttribute("height",0),r.setAttribute("style","width:0px;height:0px;"),r.setAttribute("src",e),i.appendChild(r),(null!=n?n:document.body).appendChild(i)):void 0},n.writeHtml=function(e,t){var n,i,r,o,a,s,l,u,c,d,h,p;if(null==t&&(t=null),e&&e.match(/\<script/i))for(l=/<script.*src=["|'](.*)["|']/gi,h=/<script.*src=["|'](.*)["|']/i,c=e.match(l),p=[],o=null!=c?c:[],i=0,r=o.length;r>i;i++)u=o[i],d=null!=(a=u.match(h))?a[1]:void 0,d&&(p.push(d),s=document.createElement("script"),s.src=d,(null!=t?t:document.body).appendChild(s));return n=document.createElement("div"),n.setAttribute("style","position:absolute;left:0px;top:0px;visibility:hidden;"),n.innerHTML=e,(null!=t?t:document.body).appendChild(n),p?p:void 0},n.writeRequest=function(e){var n;return n=this,new Promise(function(i,r){return t.Browser.isIE9Below()?n.writeScript(e,i,r):n.ajax(e,i,r)})},n.writeScript=function(n,i,r,o,a){var s,l,u;if(null==a&&(a=null),a=null!=a?a:document,this.isSSL()&&(n=n.replace(/^http:\/\//,"https://")),null!=i){if(n+=n.indexOf("?")>0?"&":"?",e[n])return this.nestCallbackFn(e[n],i);n+="callback="+(e[n]=t.Broker.registerCallbackFn(i))}return u=a.createElement("script"),u.defer=u.async=!0,u.src=n,null!=r&&(u.onload=r),u.onerror=null!=o?o:null!=r?r:void 0,(null!=(l=t.Browser)?l.isIE8():void 0)&&(u.onreadystatechange=function(){return"loaded"===this.readyState?r():void 0}),s=a.getElementsByTagName("head")[0],s.appendChild(u)},n.ajax=function(e,t,n,i,r,o){var a,s,l,u;if(null==i&&(i=!1),null==r&&(r={}),null==o&&(o="function"==typeof(a="undefined"!=typeof XMLHttpRequest&&null!==XMLHttpRequest?XMLHttpRequest:ActiveXObject)?new a("MSXML2.XMLHTTP.3.0"):void 0),!o)return this.writeScript.apply(this,arguments);if(l=setTimeout(function(){return o.abort(),n({error:"AJAX request timed out"})},2e3),o.withCredentials=!0,o.onreadystatechange=function(){var e,i,r;if(!(o.readyState<4)){clearTimeout(l);try{e=JSON.parse(o.responseText)}catch(a){return i=a,n({error:i})}switch(r=o.status){case 200:return t(e,o);default:return n({error:"AJAX request responded with a "+r})}}},o.open("GET",e,!0),o.setRequestHeader){for(s in r)u=r[s],o.setRequestHeader(s,u);i&&o.setRequestHeader("X-Requested-With","XMLHttpRequest")}return o.send(""),o},n.getParam=function(e,t,n){var i;return null==n&&(n="&"),null!=(i=this.getParams(t,n)[e])?i:""},n.getParams=function(e,t){var n,i,r,o,a,s;for(a={},s=e.split(t),n=0,r=s.length;r>n;n++)o=s[n],i=o.split("="),2===i.length&&(a[i[0]]=i[1]);return a},n.nestCallbackFn=function(e,n){var i,r;return i=e.split(".").pop(),r=t.callbacks[i],t.callbacks[i]=function(){var e,i,o;e=[];for(i in arguments)o=arguments[i],e[i]="object"==typeof o?t.Utils.extend({},o):o;return r.apply(null,arguments),void n.apply(null,e)}},n.scrubTargeting=function(e,t){var n;return"ysa"===e&&(n=decodeURIComponent(t).match(/yud=(.*)/))?n[1]:t},n}()}.call(this),function(){"use strict";var e,t,n=[].slice;e="undefined"!=typeof window&&null!==window?window:global,t=null!=e.spongecell?e.spongecell:e.spongecell={},t.Utils=function(){function e(){}var i;return i=new RegExp('^(http|https)://[^ "]+$'),e.intervals={},e.extend=function(e){var t,n,i,r,o,a;if(arguments.length>1)for(t=Array.prototype.slice.call(arguments,1,arguments.length),i=0,r=t.length;r>i;i++)if(o=t[i],"object"==typeof o)for(n in o)a=o[n],e[n]=a;return e},e.generateIID=function(){return"xxxx-xxxx-Axxx-xxxx".replace(/x/g,function(){return new Number(36*Math.random()|0).toString(36)})},e.generateElementIID=function(){return"xxxxxxxx".replace(/x/g,function(){return new Number(36*Math.random()|0).toString(36)})},e.getUrl=function(e){return t.Utils.isString(e)?e:t.Utils.isObject(e)?t.Net.isSSL()?null!=e?e.ssl:void 0:null!=e?e.no_ssl:void 0:void 0},e.convertUrls=function(e,n){var i,r,o,a,s,l,u;if(n){for(a=[],r=0,o=n.length;o>r;r++)i=n[r],l=e[i],a.push(null!=l?e[i]=t.Utils.getUrl(l):void 0);return a}s=[];for(i in e)u=e[i],s.push(null!=u?e[i]=t.Utils.getUrl(u):void 0);return s},e.toQueryString=function(e){var t,n,i;if(n=[],null!=e)for(t in e)i=e[t],n.push(t+"="+i);return n.join("&")},e.toCamelCase=function(e){return e.toLowerCase().replace(/_(.)/g,function(e,t){return t.toUpperCase()})},e.isFunction=function(e){return"function"==typeof e},e.isObject=function(e){return"object"==typeof e},e.isString=function(e){return"string"==typeof e},e.compact=function(e){var t,n,i,r;for(null==e&&(e=[]),t=[],n=0,i=e.length;i>n;n++)r=e[n],r&&t.push(r);return t},e.shuffle=function(e){var t,n,i;for(t=e.length;--t>0;)n=~~(Math.random()*(t+1)),i=e[n],e[n]=e[t],e[t]=i;return e},e.random=function(e){return null==e&&(e=1e9),Math.floor(Math.random()*e)},e.keys=function(e){var t,n,i;n=[];for(t in e)i=e[t],e.hasOwnProperty(t)&&n.push(t);return n},e.include=function(e,t){return-1!==e.join("|").indexOf(t)?!0:!1},e.isUrl=function(e){return i.test(e)},e.debounce=function(e,t,i){var r;return r=null,function(){var o,a,s;return o=1<=arguments.length?n.call(arguments,0):[],s=this,a=function(){return i||e.apply(s,o),r=null},r?clearTimeout(r):i&&e.apply(s,o),r=setTimeout(a,t||100)}},e.setInterval=function(e,t,n){var i,r,o;return r=this.random(),o=this,i=function(t,n,r){return function(){var a;if(o.intervals[r])return!1;if("undefined"==typeof n||n-->0){setTimeout(i,t);try{e.call(null)}catch(s){throw a=s,n=0,a.toString()}}}}(t,n,r),setTimeout(i,t),r},e.clearInterval=function(e){return this.intervals[e]=1},e}()}.call(this),function(){var e,t;e="undefined"!=typeof window&&null!==window?window:global,t=null!=e.spongecell?e.spongecell:e.spongecell={},t.Iframe=function(){function e(){}var n,i;return n="&",e.parse=function(e,r){var o,a,s,l,u,c,d,h,p,f,g,m,v,y,w,T,E,k,b,I,C,x;if(null==e&&(e=""),null==r&&(r={}),e.indexOf(";$;")>=0&&(n=";$;"),-1!==e.indexOf("?")){e=e.replace(/.+?\?/,""),i(e,r),d=t.Net.getParams(e,n),p=null!=(f=null!=(g=d.placementId)?g:d.external_placement_id)?f:"",p&&p.length>0&&(r.placementId=p),b=null!=(m=null!=(v=d.siteId)?v:d.external_site_id)?m:"",b&&b.length>0&&(r.siteId=b),I=null!=(y=d.targeting)?y:"",I&&I.length>0&&(r.targeting=I),k=null!=(w=d.signalData)?w:"",k&&k.length>0&&(r.targeting={ysa:k}),a=null!=(T=d.adTagId)?T:"",a&&a.length>0&&(r.adTagId=a),o=null!=(E=d.activeCreativeId)?E:"",o&&o.length>0&&(r.activeCreativeId=o),c=d.heatMapStartDate,u=d.heatMapStartDate,((null!=c?c.length:void 0)||(null!=u?u.length:void 0))&&(null==r.channels&&(r.channels={}),null==(s=r.channels).remote&&(s.remote={}),r.channels.remote.heatMapStartDate=c,r.channels.remote.heatMapEndDate=u),C=d.trackingEnabled,(null!=C?C.length:void 0)&&(null==r.channels&&(r.channels={}),null==(l=r.channels).tracking&&(l.tracking={}),r.channels.tracking.trackingEnabled="true"===C);for(h in d)x=d[h],r[h]=x}return r},i=function(e,t){var i,r,o,a,s,l,u;if(l="clickTag.?.?.?.?.?=([^("+n+")#]*)",s=new RegExp(l,"g"),a=e.match(s),null!=a){for(i=0,u=[];i<a.length;)o=a[i].replace(n,""),r=o.indexOf("="),r>0&&(t[o.slice(0,r)]=o.slice(r+1)),u.push(++i);return u}},e}()}.call(this),function(){var e,t;e="undefined"!=typeof window&&null!==window?window:global,t=null!=e.spongecell?e.spongecell:e.spongecell={},t.Macros=function(){function e(){this.dynodeObjects={},this.dynamicValues={},this.values={},this.thirdPartyMacroValues={},this.defaultDynamicValues={},this.defaultDynamicValues[o("signal.id")]="",this.defaultDynamicValues[o("signal.name")]="",this.defaultDynamicValues[o("sv.id")]="fallback",this.defaultDynamicValues[o("sv.name")]="fallback",this.defaultDynamicValues[o("item.id")]="",this.defaultDynamicValues[o("item.name")]=""}var n,i,r,o,a;return e.THIRD_PARTY_PIXEL_NAMES=["impression","dynode","engagement","completion","expansion","clickThrough","landingPages","start","firstQuartile","midpoint","thirdQuartile","complete"],n=["puid","xaid","xcid","xcrv","xauc"],r=null,e.get=function(){return r||(r=new t.Macros),r},e.prototype.dynodeResponse=function(e){var t,n,i,r,a,s,l,u,c,d,h,p,f,g,m,v,y,w,T,E,k,b,I;if(t={},w=[],T=[],k=[],b=[],e.signals){for(p=e.signals,n=0,c=p.length;c>n;n++)if(y=p[n],w.push(y.id),T.push(y.name),y.signalValues){for(f=y.signalValues,s=0,d=f.length;d>s;s++)E=f[s],k.push(E.id);for(g=y.signalValues,l=0,h=g.length;h>l;l++)E=g[l],b.push(E.value)}w.length>0&&(t[o("signal.id")]=w),T.length>0&&(t[o("signal.name")]=T),k.length>0&&(t[o("sv.id")]=k),b.length>0&&(t[o("sv.name")]=b)}if(r=[],a=[],e.items&&e.items.length>0){i=e.items[0],r.push(i.id);for(u in i)if(I=i[u],null!=I?I.text:void 0){a.push(I.text);break}t[o("item.id")]=r,t[o("item.name")]=a}return this.addDynodeObject(null!=(m=e.processor)&&null!=(v=m.processor)?v.id:void 0,t)},e.prototype.addDynodeObject=function(e,t){var n,i,r;this.dynodeObjects[e]=t,i=[];for(n in t)r=t[n],i.push(r instanceof Array?this.dynamicValues[n]?this.dynamicValues[n]=this.dynamicValues[n].concat(r):this.dynamicValues[n]=r:void 0);return i},e.prototype.init=function(e,r){var o,s,l,u,c,d,h,p,f,g,m,v,y,w,T,E,k,b,I,C,x,S,_;for(i(this.values,"flight.id",null!=(h=e.flight)?h.id:void 0),i(this.values,"flight.name",null!=(p=e.flight)?p.name:void 0),i(this.values,"creative.id",null!=(w=e.creative)?w.id:void 0),i(this.values,"creative.name",null!=(T=e.creative)?T.name:void 0),i(this.values,"creative.width",null!=(E=e.creative)?E.width:void 0),i(this.values,"creative.height",null!=(k=e.creative)?k.height:void 0),i(this.values,"tag.id",null!=(b=e.adTag)?b.id:void 0),i(this.values,"tag.name",null!=(I=e.adTag)?I.name:void 0),i(this.values,"placement.id",null!=(C=e.placement)?C.id:void 0),i(this.values,"placement.name",null!=(x=e.placement)?x.name:void 0),i(this.values,"weight",null!=(f=e.weight)?f.value:void 0),i(this.values,"concept.id",null!=(g=e.concept)?g.id:void 0),i(this.values,"site.name",null!=(m=e.site)?m.id:void 0),i(this.values,"brand.id",null!=(v=e.brand)?v.id:void 0),i(this.values,"campaign.id",null!=(y=e.campaign)?y.id:void 0),i(this.values,"spongekey",t.Cookie.readCookie("spongekey")),o=0,l=n.length;l>o;o++)u=n[o],e[u]?i(this.values,u,e[u]):i(this.values,u,"");d=new RegExp("^([A-Za-z]+)[0-9]+$"),S=[];for(s in r)_=r[s],c=s.match(d),S.push(c&&t.Macros.THIRD_PARTY_PIXEL_NAMES.indexOf(c[1])>-1?this.thirdPartyMacroValues[a(s)]=_:void 0);return S},e.prototype.replace=function(e,t){return e=this.replaceValues(e,this.values),e=this.replaceValues(e,this.thirdPartyMacroValues),e=(null!=t?t.sp_id:void 0)?this.replaceValues(e,this.dynodeObjects[t.sp_id]):this.replaceValues(e,this.dynamicValues),e=this.replaceValues(e,this.defaultDynamicValues),e=e.replace(/\[clickTag.*?\]/g,""),e=e.replace(/\[rand\]/g,Math.floor(1e10*Math.random())),e=e.replace(/\[timestamp\]/g,(new Date).getTime().toString())},e.prototype.replaceValues=function(e,t){var n,i;for(n in t)i=t[n],e=e.replace(RegExp(n,"g"),this.macroToValue(i));return e},e.prototype.macroToValue=function(e){var t;return t=e instanceof Array?encodeURIComponent(e.join(",")):e},i=function(e,t,n){return e[o(t)]=encodeURIComponent(n)},o=function(e){return"\\$\\{"+e+"\\}"},a=function(e){return"%"+e+"%"},e}()}.call(this),function(){var e,t;e="undefined"!=typeof window&&null!==window?window:global,t=null!=e.spongecell?e.spongecell:e.spongecell={},t.Tracker=function(){function e(e){var t,n;for(t in e)n=e[t],this[t]=n;this.adVersion=this.AD_VERSION_PLATFORM,null==this.iid&&(this.iid="xxxx-xxxx-Axxx-xxxx".replace(/x/g,function(){return new Number(36*Math.random()|0).toString(36)})),this._setupSrParams(),this.trackOnce={ENGAGEMENT:!1,MOUSEOVER:!1},this.featureEvents={},this.defaultOptions={},this.dynamicItems={},this.itemsByScreen={},this.itemsByUuid={}}return e.prototype.METRIC={IMPRESSION:"IMPRESSION",ENGAGEMENT:"ENGAGEMENT",MOUSEOVER:"MOUSEOVER",START:"START",COMPLETION:"COMPLETION",CLICK_THROUGH:"CLICK_THROUGH",DYNODE:"DYNODE",CORE:"CORE",INTERACTION:"INTERACTION",TIME:"TIME",EXPANSION:"EXPANSION",ITEMS_REQUEST:"ITEMS_REQUEST"},e.prototype.AD_VERSION_PLATFORM="PLATFORM",e.prototype.SINGLE_ITEM_METRICS=["INTERACTION"],e.prototype.SCREEN_METRICS=["TIME"],e.prototype.trackEvent=function(e){switch(this.cacheUuids(e),e.action){case"clickThrough":return this.trackClickThrough(e);case"mouseOver":return this.track("MOUSEOVER",{feature:e.feature,description:"Mouse over "+e.feature,data:e.data});case"clickEvent":return this.trackHeatMap(e);case"play":return this.trackPlay(e.feature,e.baseFeature,e.engaged);case"pause":return this.trackPause(e.feature,e.baseFeature);case"unpause":return this.trackUnpause(e.feature,e.baseFeature);case"replay":return this.trackReplay(e.feature,e.baseFeature);case"played":return this.trackPlayed(e.feature,e.percentage,e.baseFeature);case"seek":return this.track("INTERACTION",{feature:e.feature,description:"Seek Video",data:e.data,baseFeature:e.baseFeature});case"mute":return this.track("INTERACTION",{feature:e.feature,description:"Muted Video",data:e.data,baseFeature:e.baseFeature});case"unmute":return this.track("INTERACTION",{feature:e.feature,description:"Unmuted Video",data:e.data,baseFeature:e.baseFeature});case"enterFullscreen":return this.track("INTERACTION",{feature:e.feature,description:"Entered Full Screen",data:e.data});case"exitFullscreen":return this.track("INTERACTION",{feature:e.feature,description:"Exited Full Screen",data:e.data});case"timeStart":return this.timerStart();case"timeStop":return this.timerStop();case"engagement":return this.track("ENGAGEMENT",e);case"start":return this.trackStart(e.feature,e);case"completion":return this.trackCompletion(e.feature,e);case"mobileMapSwipe":return this.track("INTERACTION",{feature:e.feature,description:"Map Swipe",data:e.data});case"mobileMapClickThrough":return this.track("CLICK_THROUGH",{feature:e.feature,description:e.description,data:e.data}),this.track("INTERACTION",{feature:e.feature,description:e.description,data:e.data}),this.trackCompletion(e.feature,e);case"mapGeocoded":return this.track("INTERACTION",{feature:e.feature,description:"IP Geocoded",data:e.data,baseFeature:e.baseFeature,featureId:e.featureId});case"slideView":return this.track("ENGAGEMENT",e),this.track("INTERACTION",{feature:e.feature,description:e.description,data:e.data,i:e.i,baseFeature:e.baseFeature,featureId:e.featureId,item_id:e.item_id}),this.trackStart(e.feature,e);case"mapInteraction":return this.track("INTERACTION",{feature:e.feature,description:e.description,data:e.data,baseFeature:e.baseFeature}),this.trackCompletion(e.feature,e);case"itemsRequest":return this.trackItemsRequest(e);case"screenChange":return this.currentScreen=e.screen;default:return this.track(e.action,e)}},e.prototype.trackClickThrough=function(e){return this.track("ENGAGEMENT",e),this.track("INTERACTION",e),this.track("CLICK_THROUGH",e),this.trackHeatMap(e)},e.prototype.trackHeatMap=function(e){var n,i,r,o,a;return null==e&&(e={}),o=e.x,a=e.y,n=null!=(i=e.partition)?i:"Creative",null!=o&&null!=a?(t.Console.log("HEATMAP POINT ("+n+"): "+o+", "+a),r=this.heatmapBaseURL+"/create_point?x="+o+"&y="+a+"&partition="+n+"&event=click&heatmap="+this.creative.id,null!=e.elapsed&&(r+="&elapsed="+e.elapsed),this.writePixel(r)):void 0},e.prototype.trackItemsRequest=function(e){return this.track(this.METRIC.ITEMS_REQUEST,e)},e.prototype.trackPlay=function(e,t,n){return null==n&&(n=!0),n&&this.track("ENGAGEMENT",{feature:e,baseFeature:t}),this.trackStart(e,{baseFeature:t}),this.track("INTERACTION",{feature:e,description:"Started Video",baseFeature:t})},e.prototype.trackReplay=function(e,t){return this.track("INTERACTION",{feature:e,description:"Replayed "+e,baseFeature:t})},e.prototype.trackPause=function(e,t){return this.track("INTERACTION",{feature:e,description:"Paused "+e,baseFeature:t})},e.prototype.trackUnpause=function(e,t){return this.track("INTERACTION",{feature:e,description:"Unpaused "+e,baseFeature:t})},e.prototype.trackPlayed=function(e,t,n){return this.trackOncePerFeature("INTERACTION",e,{description:"Viewed "+t+"%",baseFeature:n,eventName:"INTERACTION"+t}),100===t?this.trackCompletion(e,{description:"Viewed 100%",baseFeature:n}):void 0},e.prototype.trackOncePerFeature=function(e,t,n){var i,r,o,a,s,l;return null==n&&(n={}),i=null!=(s=n.baseFeature)?s:"unknown",null==n.feature&&(n.feature=t),null==(r=this.featureEvents)[i]&&(r[i]={}),null==(o=this.featureEvents[i])[t]&&(o[t]={START:!1,COMPLETION:!1}),a=null!=(l=n.eventName)?l:e,delete n.eventName,this.featureEvents[i][t][a]!==!0&&this.track(e,n),this.featureEvents[i][t][a]=!0},e.prototype.trackStart=function(e,t){return null==t&&(t={}),this.trackOncePerFeature("START",e,t)},e.prototype.trackCompletion=function(e,t){return null==t&&(t={}),this.trackStart(e,t),this.trackOncePerFeature("COMPLETION",e,t)},e.prototype.trackDynamic=function(e,t){return null==e&&(e={}),null==t&&(t=this.METRIC.DYNODE),this.track(t,e)},e.prototype.timerStart=function(){return this.timer=t.Utils.setInterval(function(e){return function(){return e.trackTime()}}(this),500,180)},e.prototype.timerStop=function(){return t.Utils.clearInterval(this.timer)},e.prototype.trackTime=function(){return null==this.timeSpent&&(this.timeSpent=0),this.timeSpent+=.5,this.timeSpent%5===0&&this.timeSpent<=90?this.track("TIME",{duration:this.timeSpent}):void 0},e.prototype.trackOpen=function(){return this.track("EXPANSION"),this.timerStart()},e.prototype.trackClose=function(e){return this.track("INTERACTION",{description:e}),this.timerStop()},e.prototype.track=function(e,n){var i,r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,w,T,E,k;if(null==n&&(n={}),e=e.toUpperCase(),this.uuids&&(n=this.addUuids(n,e)),this.trackOnce[e]===!1)this.trackOnce[e]=!0;
else if(this.trackOnce[e]===!0)return;if(u=t.Console.pad("Tracking "+e+":",24),T=n.feature||"",n.feature&&n.baseFeature&&(T+=" ("+n.baseFeature+")"),u+=t.Console.pad(T,24),n.description&&(u+=t.Console.pad(n.description,32)),n.data&&(u+=t.Console.pad("("+n.data+")",32)),null!=n.i&&(u+=t.Console.pad("("+n.i+")",32)),n.pixel&&(u+=n.pixel),t.Console.group(u),E=this.reportBaseURL+"/"+this.adTag.id+"?",c=[],i=function(){return function(e,n,i){return null==i&&(i=!1),c.push([e,encodeURIComponent(n)].join("=")),t.Console.groupCollapsedSupported()?t.Console.log(e+": "+n):void 0}}(this),i("type",e),n.creativeOptions){h=n.creativeOptions;for(l in h)k=h[l],i(l,k)}p=this.defaultOptions;for(l in p)k=p[l],"items"!==l&&("item_id"===l?(o=(null!=(f=this.dynamicItems[n.processorId])?f.length:void 0)>0&&null!=(null!=(g=n.elementAction)?g.itemIndex:void 0),r=o?n.elementAction.itemIndex:0,n.processorId&&["INTERACTION","CLICK_THROUGH"].indexOf(e)>-1&&this.dynamicItems[n.processorId]?(a=null!=(m=this.dynamicItems[n.processorId])&&null!=(v=m[r])?v.id:void 0,s=null!=(y=this.dynamicItems[n.processorId])&&null!=(w=y[r])?w.item_id:void 0,null!=a&&i("item_id",a),null!=s&&i("item_uuid",s),delete n.item_id,delete n.item_uuid):n.item_id||(n.item_id=k)):null==n[l]&&i(l,k));return n.feature&&i("screen",n.feature),n.featureId&&i("screen_id",n.featureId),n.baseFeature&&i("base_screen",n.baseFeature),n.description&&i("description",n.description),n.duration&&i("duration",n.duration),n.item_id&&i("item_id",n.item_id),n.item_uuid&&i("item_uuid",n.item_uuid),n.elementId&&i("element_id",n.elementId),n.sp_id&&i("sp_id",n.sp_id),n.srcdoc&&i("srcdoc",n.srcdoc),n.sv_id&&i("sv_id",n.sv_id),n.data&&i("data",n.data),null!=n.i&&i("i",n.i),i("flight_id",this.flight.id),i("creative_id",this.creative.id),i("iid",this.iid),this.container&&i("container_id",this.container.id),this.concept&&i("concept_id",this.concept.id),this.rotationGroup&&i("rg_id",this.rotationGroup.id),this.weight&&i("weight",this.weight.value),i("ad_version",n.adVersion?n.adVersion:this.adVersion),this.placement.id&&i("external_placement_id",this.placement.id),this.site.id&&i("external_site_id",this.site.id),this.ysa&&i("ysa",this.ysa),this.deviceId&&i("deviceId",this.deviceId),this.puid&&i("puid",this.puid),this.xaid&&i("xaid",this.xaid),this.xcid&&i("xcid",this.xcid),this.xcrv&&i("xcrv",this.xcrv),this.xauc&&i("xauc",this.xauc),i("anticache",(new Date).getTime()),i("e","mc2"),d=c.join("&"),this.srParams&&""!==this.srParams&&(d=d.replace(/e=mc2$/,this.srParams+"&e=mc2"),t.Console.groupCollapsedSupported()&&t.Console.log("srParams: "+this.srParams)),E+=d,t.Console.groupCollapsedSupported()&&t.Console.log("Analytics URL: "+E),this.writePixel(E),this.trackExternalPixels(e,n),t.Console.groupEnd()},e.prototype.trackExternalPixels=function(e,n){var i,r,o,a,s,l,u,c,d,h,p;if(e=t.Utils.toCamelCase(e),null!=(null!=(d=this.pixels[n.feature])?d[e]:void 0)){if(i=this.pixels[n.feature][e],i.match(/\|https?/)){for(u=i.split("|"),h=[],r=0,a=u.length;a>r;r++)c=u[r],h.push(this.trackPixel(c,e,n));return h}return this.trackPixel(this.pixels[n.feature][e],e,n)}if(u=this.pixels[e+"s"]){for(p=[],o=0,s=u.length;s>o;o++)l=u[o],p.push(this.trackPixel(l,e,n));return p}return this.trackPixel(this.pixels[e],e,n)},e.prototype.trackPixel=function(e,n,i){return e&&(e=t.Macros.get().replace(e,i),t.Console.log("PIXEL: "+e),this.writePixel(e)),this.trackActivityPixel(n,i)},e.prototype.trackActivityPixel=function(e,n){var i;return i=this.pixels.activity,i?(i=t.Macros.get().replace(i,n),i=i.replace("[activity]",e),i=i.replace("[feature]",n.feature||""),i=i.replace("[base_feature]",n.baseFeature||n.feature||""),this.writePixel(i),t.Console.log("Activity pixel: "+i)):void 0},e.prototype.writePixel=function(e){return this.trackingDisabled?void 0:t.Net.writePixel(e,document.getElementById("spongecell-ad-"+this.iid))},e.prototype.writeThirdPartyTags=function(){var e;if(!this.flight.externalThirdPartyTags)return(e=this.pixels.thirdPartyTags)?(e=t.Macros.get().replace(e,{}),t.Net.writeHtml(e)):void 0},e.prototype.trackImpression=function(e){return this.writeThirdPartyTags(),this.track(this.METRIC.IMPRESSION,e),this.conceptFrequencyEnabled||this.conceptGroupFrequencyEnabled?this.increaseFrequencyPixel():void 0},e.prototype.increaseFrequencyPixel=function(){var e,n,i,r,o;return r=t.Utils.generateIID(),this.conceptGroupFrequencyEnabled&&(n=this.container.id+"-cg"+this.conceptGroup.id+"_frequency="+r),this.conceptFrequencyEnabled&&(i=this.container.id+"-"+this.concept.id+"_frequency="+r),e="https://rt.spongecell.com/v1/r/"+this.brand.id+"?",o=function(){switch(!1){case!(this.conceptFrequencyEnabled&&this.conceptGroupFrequencyEnabled):return""+e+n+"&"+i;case!this.conceptFrequencyEnabled:return""+e+i;case!this.conceptGroupFrequencyEnabled:return""+e+n;default:return console.warn("increaseFrequencyPixel called without frequency cap enabled.")}}.call(this),this.writePixel(o)},e.prototype.inspect=function(){return"Campaign: "+this.campaign.id+"    Flight: "+(this.flight.id||"")+"    Ad Tag: "+(this.adTag.id||"")+"    Creative: "+this.creative.id+"    Placement: "+(this.placement.id||"")+"    Site: "+this.site.id+"    IID: "+this.iid},e.prototype.cacheUuids=function(e){return(null!=e?e.uuids:void 0)&&(this.uuids=e.uuids),(null!=e?e.screen:void 0)?this.currentScreen=e.screen:void 0},e.prototype.addUuids=function(e,t){var n,i,r,o,a,s,l,u,c;if(n=function(e){return e&&null!=e.split?e.split(","):e instanceof Array?e:[]},this.uuids&&this.SINGLE_ITEM_METRICS.indexOf(t)>-1?e.item_uuid=null!=(s=this.uuids.single)?s:this.uuids.all:this.uuids&&this.SCREEN_METRICS.indexOf(t)>-1?e.item_uuid=null!=(l=this.uuidsByScreen())?l.join(","):void 0:this.uuids?null==e.item_uuid&&(e.item_uuid=this.uuids.all):e.item_uuid=null!=(u=this.uuidsByScreen())?u.join(","):void 0,e.item_uuid){for(r=[],c=n(e.item_uuid),i=0,a=c.length;a>i;i++)o=c[i],r.push(this.itemsByUuid[o]);e.item_id=r.length?r.join(","):null}return delete e.uuids,e},e.prototype.uuidsByScreen=function(){return this.currentScreen?this.itemsByScreen[this.currentScreen]:void 0},e.prototype._setupSrParams=function(){var e,t;if(this.srParams)return e="${sr",t="Params}",this.srParams=this.srParams===e+t?null:encodeURI(this.srParams.replace(/\&$/,""))},e}()}.call(this),function(){var e,t;e="undefined"!=typeof window&&null!==window?window:global,t=null!=e.spongecell?e.spongecell:e.spongecell={},t.BaseChannel=function(){function e(e,t,n){this.iid=e,this.options=t,this.impTag=n,this._init()}return e.prototype._init=function(){},e.prototype.start=function(){},e.prototype.send=function(e){return t.Console.log("BaseChannel received %o",e)},e.prototype.findClickTags=function(e){var n,i,r;n={};for(i in e)r=e[i],0===i.indexOf("clickTag")&&(t.Net.isHttp(r)||t.Net.isHttpEncoded(r)?t.Net.isHttpEncoded(r)&&(r=decodeURIComponent(r)):r="",n[i]=r);return n},e.prototype.mergeClickTagsAndLandingPages=function(e,n,i){var r,o,a,s,l,u,c,d,h,p,f,g;null==i&&(i=!1),u={},r=e.clickTag;for(s in n){g=n[s],o=null!=(d=null!=(h=e["clickTag"+s])?h:r)?d:"",c=o&&(null!=g&&"function"==typeof g.indexOf?g.indexOf(o):void 0)<0?o+g:g,c=t.Macros.get().replace(c),p=this.impTag.params;for(a in p)f=p[a],c=c.replace("%"+a+"%",f);u[s]=c}if(!i)for(s in e)g=e[s],l=s.replace("clickTag",""),null==u[l]&&(u[l]=g);return u},e.prototype._sortItemsByMetadata=function(e){var t,n,i,r,o,a,s,l;if(e&&(a=e.metadata||{},n=e.items||[],0!==Object.keys(a).length)){r={},s=e.metadata;for(i in s){o=s[i];for(t in o)l=o[t],parseInt(t)===+t&&(r[t]=parseInt(l))}return n.sort(function(e,t){return e=r[e.id]||0,t=r[t.id]||0,e>t?-1:t>e?1:0}),e.items=n}},e}()}.call(this),function(){"use strict";var e,t;e="undefined"!=typeof window&&null!==window?window:global,t=null!=e.spongecell?e.spongecell:e.spongecell={},t.Broker=function(){function e(){}var n,i,r,o,a,s,l;return n=null!=t.brokerChannels?t.brokerChannels:t.brokerChannels={},i=null!=t.brokerClients?t.brokerClients:t.brokerClients={},s=null!=t.brokerChannels?t.brokerChannels:t.brokerChannels={},o=function(){return t.Utils.random(1e5)+"_"+ +new Date},a=function(e){return s[e]},l=function(e,t){return s[e]=t},r=function(e){var n;return n="call"+e,null==t.callbacks&&(t.callbacks={}),t.callbacks[n]=function(t){return s[e](t)},"spongecell.callbacks."+n},e.registerCallbackFn=function(e){var n;return n=o(),l(n,function(){var i,r,o,a;e.apply(null,arguments),r=t.requestMap,o=[];for(i in r)a=r[i],o.push(a.indexOf(n)>-1?delete r[i]:void 0);return o}),r(n)},e.registerChannels=function(e,i,r){var o,a,s,l,u;t.Console.group("Registering Channels for %s, %o",e,i),a={};for(u in i)l=i[u],o=function(){switch(u){case"feature":return t.FeatureChannel;case"hooks":return t.HooksChannel;case"loading":return t.LoadingChannel;case"mraid":return t.MRAIDChannel;case"nav":return t.NavChannel;case"panel":return t.PanelChannel;case"remote":return t.RemoteChannel;case"setup":return t.SetupChannel;case"tracking":return t.TrackingChannel;case"vpaid":return t.VPAIDChannel;case"externalPage":return t.ExternalPageChannel}}(),null!=o&&(t.Console.debug("Initializing Channel: %s with %o",u,l),a[u]=new o(e,l,r));n[e]=a;for(u in a)s=a[u],t.Console.debug("Starting Channel: %s",u),s.start();return t.Console.groupEnd(),a},e.registerClient=function(e,t){return null==i[e]&&(i[e]=[]),i[e].push(t)},e.clientRegistered=function(e){var t;return(null!=(t=i[e])?t.length:void 0)>0},e.sendOnChannel=function(e,t){var r,o,a,s,l,u;if(e.iid&&(r=n[e.iid]),null!=r&&(a=r[e.topic],null!=a&&a.send(e,t)),null!=(o=i[e.topic])){for(u=[],s=0,l=o.length;l>s;s++)t=o[s],u.push(t(e));return u}},e}()}.call(this),function(){var e,t;e="undefined"!=typeof window&&null!==window?window:global,t=null!=e.spongecell?e.spongecell:e.spongecell={},t.CreativeTag=function(){function e(e,n){this.iid=e,t.Utils.extend(this,n),this._init()}return e.prototype._init=function(){},e.prototype.html=function(){},e}()}.call(this),function(){var e,t,n=function(e,t){return function(){return e.apply(t,arguments)}};e="undefined"!=typeof window&&null!==window?window:global,t=null!=e.spongecell?e.spongecell:e.spongecell={},t.ImpressionTag=function(){function e(e,i){var r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,w;this.params=i,this._trackEngagement=n(this._trackEngagement,this),this.params.iframeSrc&&t.Iframe.parse(this.params.iframeSrc,this.params),window.scJsUrl&&t.Iframe.parse(window.scJsUrl,this.params),this.creativeSettings=a=this.rotate(e.creatives),this.creativeImpressionTrackingOptions={},this.canvasMode="true"===this.params.canvas,o=null!=(d=a.channels.tracking)?d.coreIid:void 0,u="${",c="iid}",s=o&&o!==u+c?o:t.Utils.generateIID(),this.iid=s,this.size=a.size,this.processors=null!=(h=a.processors)?h:{},t.Console.debug("Impression Tag %s initializing with %o rotated to %o",this.iid,e,a),p=e.channels;for(w in p)l=p[w],"object"==typeof l&&(null==(r=a.channels)[w]&&(r[w]={}),t.Utils.extend(a.channels[w],l));f=a.channels;for(w in f)e=f[w],null!=(null!=(g=this.params)&&null!=(m=g.channels)?m[w]:void 0)&&t.Utils.extend(e,this.params.channels[w]);t.Broker.registerChannels(this.iid,a.channels,this),t.Browser.isMobile()&&this.sendChannelMessage("mraid",{fn:"loadMraid"}),this.sendDebugMessage({description:"tag_init",type:"start"}),this._initTags(a.tags),t.Console.group(null!=(v=this.tracker)?v.inspect():void 0),t.Console.log("Ad Tag: %O",this),t.Console.log("Ad Server Parameters: %O",this.params),t.Console.groupEnd(),(null!=(y=this.params.targeting)?y.ysa:void 0)&&(this.creativeImpressionTrackingOptions.ysa=this.params.targeting.ysa),this.sendChannelMessage("hooks",{description:"before_ad_load_hook",type:"beforeAdLoad"})}return e.prototype._initTags=function(e){var n,i,r,o,a,s;this._chooseStudioTagType(e),r=[];for(a in e)switch(o=e[a],t.Console.debug("Initializing Tag: %s tag with %o",a,o),a){case"backup":o.clickTags=this.clickTags,o.tracker=this.tracker,o.macros={},i=this.params;for(n in i)s=i[n],o.macros[n]=s;r.push(this.backupTag=new t.BackupTag(this.iid,o));break;case"studioIframe":r.push(this.studioTag=new t.StudioIframeTag(this.iid,o,this.params));break;case"studioScript":r.push(this.studioTag=new t.StudioScriptTag(this.iid,o,this.params));break;case"vpaid":this.vpaid=!0,r.push(this.studioTag=new t.VPAIDTag(this.iid,o,this.params));break;default:r.push(void 0)}return r},e.prototype._chooseStudioTagType=function(e){return e.studioScript&&(e.studioScript.expansionRequired||this.useSafeFrames())&&delete e.studioIframe,e.studioIframe?delete e.studioScript:void 0},e.prototype.render=function(){var e,n;return e=function(e){return function(){var n,i,r,o,a,s,l,u,c;return n=null!=document.body?e._html():"<html><body>"+e._html()+"</body></html>",e.studioTag&&e.studioTag.size&&(e.topDimensions={width:null!=(i=e.studioTag.size)?i.width:void 0,height:null!=(r=e.studioTag.size)?r.height:void 0}),(null!=(o=e.studioTag)?o.iframeBusted:0)?void 0:(null!=e.params.currentScript?(t.Console.debug("Rendering self after %o: %o",e.params.currentScript),e.params.currentScript.insertAdjacentHTML("afterEnd",n)):document.write(n),e._addLoadListeners(),e.hasBackup||null!=(a=e.studioTag)&&a.delegateEvents(),document.close(),e.studioTag&&!e.hasBackup&&e.sendChannelMessage("loading",{action:"renderPreloader"}),null!=(s=e.tracker)&&s.trackImpression(e.creativeImpressionTrackingOptions),e._setupEngagementTracking(),e.sendChannelMessage("panel",{description:"setup_initial_expansion",action:"initialExpansion"}),e.sendDebugMessage({description:null!=(l=null!=(u=e.creativeImpressionTrackingOptions.creativeOptions)?u.screen:void 0)?l:null!=(c=e.creativeImpressionTrackingOptions.creativeOptions)?c.feature:void 0,type:"IMPRESSION"}),e.sendDebugMessage({description:"tag_init",type:"stop"}))}}(this),n=function(e){return function(){var t;return t=function(){var t,n,i;return e.studioTag.setDimensions(),i=null!=(t=e.studioTag["interface"])?t._slot:void 0,null==i&&(i=document.body),i.insertAdjacentHTML("beforeend",e._html()),e.hasBackup||e.studioTag.delegateEvents(),null!=(n=e.tracker)?n.trackImpression(e.creativeImpressionTrackingOptions):void 0},e.studioTag["interface"].subscribe(t,"initAd",e)}}(this),this.vpaid&&!this.canvasMode?n():window.mraid&&window.mraid.addEventListener?this.sendChannelMessage("mraid",{fn:"setup"},e):e()},e.prototype._setupEngagementTracking=function(){var e;return e=document.querySelectorAll(".outer-wrapper")[0],null==e&&(e=document.getElementById("spongecell-ad-"+this.iid)),t.Engagement.onHover(this._trackEngagement,{node:e})},e.prototype._trackEngagement=function(){var e;return null!=(e=this.tracker)?e.trackEvent({action:"engagement"}):void 0},e.prototype._html=function(){var e,t,n,i,r,o,a,s,l,u,c,d,h,p;if(null==(e=this.creativeImpressionTrackingOptions).creativeOptions&&(e.creativeOptions={}),!(null!=(a=this.panelTag)?a.director:void 0)||this.panelTag.director.allowedAccessToTop()){for(s=[this.flashTag,this.studioTag,this.backupTag],r=0,o=s.length;o>r;r++)if(h=s[r],null!=h?h.checkEnvironment(this.creativeImpressionTrackingOptions.creativeOptions):void 0){t=h;break}}else t=this.backupTag;return t===this.backupTag&&(this.hasBackup=!0),p=null!=(l=null!=t&&null!=(u=t.size)?u.width:void 0)?l:this.size.width,n=null!=(c=null!=t&&null!=(d=t.size)?d.height:void 0)?c:this.size.height,i='<div id="spongecell-ad-'+this.iid+'" class="spongecell-ad" style="display: inline-block; *display: inline; width: '+p+"px; height: "+n+'px; opacity: 1; filter: alpha(opacity=100); ">\n  '+(null!=t?t.html():void 0)+"\n</div>"},e.prototype.random=function(){return Math.floor(1e9*Math.random())},e.prototype.rotate=function(e){var n,i,r,o,a,s,l,u;if(l={},null!=this.params.activeCreativeId)return e[this.params.activeCreativeId];s=function(){var t;t=[];for(o in e)u=e[o],t.push(o);return t}().length>1,r=0,a=Math.random(),s&&t.Console.group("Rotating");for(i in e){if(n=e[i],r+=n.weight,r>a){l=n;break}s&&t.Console.log(i+": "+100*n.weight+"%")}return s&&t.Console.groupEnd(),l},e.prototype._addLoadListeners=function(){var e;return t.Event.onLoad(function(e){return function(){return e.panelTag&&e.sendChannelMessage("panel",{description:"start_auto_expand_timer",action:"autoExpand"}),e.sendChannelMessage("hooks",{description:"after_page_load_hook",type:"afterPageLoad"})}}(this)),null!=(e=this.backupTag)?e.addClickthroughListener():void 0},e.prototype.sendDebugMessage=function(e){return this.sendChannelMessage("debug",e)},e.prototype.sendChannelMessage=function(e,n,i){return null==i&&(i=null),null!=t.Broker?(null==n.iid&&(n.iid=this.iid),null==n.topic&&(n.topic=e),t.Broker.sendOnChannel(n,i)):void 0},e.prototype.useSafeFrames=function(){return!!("undefined"!=typeof $sf&&null!==$sf?$sf.ext:void 0)},e}()}.call(this);
(function(){var t,e,n=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;t="undefined"!=typeof window&&null!==window?window:global,e=null!=t.spongecell?t.spongecell:t.spongecell={},e.ExternalPageChannel=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype._init=function(){},e.prototype.send=function(t){var e,n;return n=window,"dynamicItems"===t.action?e={topic:"ExternalPage:Items",dynamicItems:t.data}:"previewComplete"===t.action?e={topic:"ExternalPage:PreviewComplete",data:"previewComplete"}:"adShown"===t.action&&(e={topic:"ExternalPage:AdShown"}),n.parent.postMessage(JSON.stringify(e),"*")},e}(e.BaseChannel)}).call(this);
(function(){"use strict";var e,t,r,n,o=function(e,t){return function(){return e.apply(t,arguments)}};r=null!=window.spongecell?window.spongecell:window.spongecell={},t=null!=r.providers?r.providers:r.providers={},e=null!=t.ExternalContent?t.ExternalContent:t.ExternalContent=function(){function e(){}return e}(),n=r.Utils,t.ExternalContent=function(){function e(e,t,r,n){this.impTag=e,this.options=t,this.iid=r,this.feature=n,this.requestErrorCallback=o(this.requestErrorCallback,this),this.timeout=1e3,this.providerRequests={}}return e.prototype._setupRequestCallback=function(e){var t,n,o,i,s;return null!=(t=this.feature.fallback)&&(t.dynamic=!0),i=this.providerRequests[this.feature.id]={response:null!=(n=this.feature.fallback)?n:{},processorId:null!=(o=this.feature.processorId)?o:this.processorId},s=function(t){return function(n){var o,s;if(!i.responded){if(i.responded=!0,i.response=n,n)try{(null!=(s=n.processor)?s.id:void 0)&&(n.id=n.processor.id),r.Macros.get().dynodeResponse(n,t.impTag)}catch(u){o=u,r.Console.log("Error replacing macros on dynamic response: ",o)}return t.logRequest("complete",i),"function"==typeof e?e(n):void 0}}}(this)},e.prototype.requestErrorCallback=function(){return this.logRequest.apply(this,arguments)},e.prototype.logRequest=function(){return r.Console.log.apply(r.Console,arguments)},e.prototype.checkRequest=function(e){var t;return null==e&&(e=!1),t=this.providerRequests[this.feature.id],((null!=t?t.responded:void 0)||e)&&null!=t.handleResponse&&(t.handleResponse(t.response),w.clearTimeout(this.providerRequests[this.feature.id].timer)),t.responded},e.prototype.writeRequest=function(e){return this.feature.processorId&&this.feature.id?null==this.feature.url?r.Console.log("No dynamic url specified; using static fallback"):this._setupRequestCallback(e):void 0},e.prototype.buildFeatureUrl=function(){},e.prototype.rebuildFeatureUrl=function(){},e.locationRequest=function(t,n){var o;return null==n&&(n={}),o=e._mapUrl(t,n),new Promise(function(){return r.Net.writeScript(o,arguments[0],arguments[1])})},e.ipLocationRequest=function(t,o,i){var s;return null==o&&(o={}),null==i&&(i=!1),o.origin?e.locationRequest(t,o):(s=e._mapUrl(t,o),new Promise(function(){return r.Net.writeScript(s,arguments[0],arguments[1])}).then(function(r){return i&&r?(o=n.extend(o,{origin:r.city+", "+r.region+", "+r.country,lat:r.latitude,lng:r.longitude}),e.locationRequest(t,o)):r}))},e._mapUrl=function(e,t){return t.origin?e.locationsUrl+"?"+n.toQueryString(t):e.ipLocateUrl},e}()}).call(this);
(function(){"use strict";var e,t,i,r,n,s,o=function(e,t){function i(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},a={}.hasOwnProperty;s=window,r=null!=s.spongecell?s.spongecell:s.spongecell={},i=null!=r.providers?r.providers:r.providers={},e=null!=i.ExternalContent?i.ExternalContent:i.ExternalContent=function(){function e(){}return e}(),n=r.Utils,t={},i.CreativeServerContent=function(e){function i(e,t,r,n){this.impTag=e,this.options=t,this.iid=r,this.feature=n,i.__super__.constructor.apply(this,arguments),this.provider=this.impTag.tracker.METRIC.CORE}var n,s,a;return o(i,e),s=["channels","clickTag","flashData"],n={deviceId:"device_id"},a=function(e){var t;return null!=(t=n[e])?t:e},i.prototype.writeRequest=function(){var e;return e=this._setupRequestCallback(),r.Net.writeRequest(this.feature.url).then(e)["catch"](this.requestErrorCallback)},i.prototype.buildFeatureUrl=function(){return r.Utils.convertUrls(this.feature,["creativeServerUrl"]),this.feature.url=this.feature.creativeServerUrl,this.feature.url=this._rebuildFeatureUrl()},i.prototype._rebuildFeatureUrl=function(){var e,t,i,n,o,l,u,p,d,c,h,g,f,m,v,_,y,T,R,k,C;T="iid="+this.iid+"&tzo="+(new Date).getTimezoneOffset(),c=null!=(p=null!=(d=this.impTag.params)?d.flashData:void 0)?p:{};for(t in c)R=c[t],t.match(/^signals\[\d+\]$/)&&(T+="&"+t+"="+R);h=this.impTag.params;for(t in h)R=h[t],s.indexOf(t)>-1||R&&(T+="&"+a(t)+"="+R);for(f=null!=(g=this.feature.signalValues)?g:[],e=0,n=f.length;n>e;e++){_=f[e],l=new RegExp("signals["+_.signalId+"]").test(T)?void 0:_.value,v=null!=(m=this.impTag.params)?m:{};for(t in v){R=v[t],u=new RegExp("%"+t+"%","g");try{l=l.replace(u,decodeURIComponent(R))}catch(I){r.Console.log("Ignoring unsubstituted macro passed through spongecellParams: "+R)}}if(y="",_.catalogKey)for(C=l.split(","),i=0,o=C.length;o>i;i++)k=C[i],y+="&signals["+_.signalId+"]="+_.catalogKey+":"+encodeURIComponent(k);else y+="&signals["+_.signalId+"]="+encodeURIComponent(l);new RegExp("signals\\["+_.signalId+"\\]").test(this.feature.url)||(T+=y)}return this.impTag.params.parentUrl&&(T=T+"&url="+this.impTag.params.parentUrl),this.feature.url.indexOf("?")>-1?this.feature.url+"&"+T:this.feature.url+"?"+T},i.prototype.checkRequest=function(e){var t;return null==e&&(e=!1),t=this.providerRequests[this.feature.id],e&&!t.responded&&this.logRequest("timeout",t),((null!=t?t.responded:void 0)||e)&&null!=t.handleResponse&&(t.handleResponse(t.response),window.clearTimeout(this.providerRequests[this.feature.id].timer)),t.responded},i.prototype.logRequest=function(e,i){var n,s,o,a,l,u,p,d,c,h,g,f,m,v,_,y,T,R,k,C,I;if(i){if(e&&!t.hasOwnProperty(this.feature.url)){if(t[this.feature.url]=e,(null!=(f=i.response)&&null!=(m=f.items)?m.length:void 0)&&(s=i.response.items.map(function(e){return e.id}),o=i.response.items.map(function(e){return e.item_id}),a=i.response.items),i.response)try{r.Macros.get().dynodeReponse(i.response,this.impTag)}catch(w){}for(I=[],y=null!=(v=null!=(_=i.response)?_.signals:void 0)?v:[],l=0,p=y.length;p>l;l++)if(R=y[l],R.signalValues)for(T=R.signalValues,u=0,d=T.length;d>u;u++)k=T[u],I.push(k.id);if(C=I.length?I.slice(0,5).join(","):null,g={description:e,sp_id:i.processorId,item_id:null!=s?s.join(","):void 0,item_uuid:null!=o?o.join(","):void 0,sv_id:C},this.impTag.tracker.trackDynamic(g,this.provider),this.impTag.sendChannelMessage("debug",{description:"tag_dynode",type:e}),s&&(this.impTag.tracker.defaultOptions.item_id=s.join(",")),null!=a?a.length:void 0){for(h=0,c=a.length;c>h;h++)n=a[h],n.item_id=n.item_id?n.item_id+":"+i.processorId:null;this.impTag.tracker.defaultOptions.items=a,this.impTag.tracker.dynamicItems[i.processorId]=a}C&&(this.impTag.tracker.defaultOptions.sv_id=this.impTag.tracker.defaultOptions.sv_id?this.impTag.tracker.defaultOptions.sv_id+","+C:C)}return void 0}},i._featureTracked=function(){return void(t={})},i}(e)}).call(this);
(function(){var e,r,n=function(e,r){function n(){this.constructor=e}for(var t in r)i.call(r,t)&&(e[t]=r[t]);return n.prototype=r.prototype,e.prototype=new n,e.__super__=r.prototype,e},i={}.hasOwnProperty;e="undefined"!=typeof window&&null!==window?window:global,r=null!=e.spongecell?e.spongecell:e.spongecell={},r.MRAIDChannel=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return n(i,e),i.prototype.init=function(){return this.resizeListener=!1},i.prototype.send=function(e,n){var i,t,a,d,o,s,l,u,p,m,c;switch(c=function(e){return function(){return e.resizeListener?void 0:(e.resizeListener=!0,mraid.addEventListener("stateChange",function(r){return"default"===r?e.closeCallback():void 0}))}}(this),e.fn){case"setup":return d=function(){return mraid.isViewable()?(n(),mraid.removeEventListener("ready",d)):mraid.addEventListener("viewableChange",function(e){return e?(n(),mraid.removeEventListener("viewableChange",arguments.callee)):void 0})},mraid&&"loading"===mraid.getState()?mraid.addEventListener("ready",d):n();case"resize":return this.resize=!0,this.closeCallback=null!=(o=e.params)?o.closeCallback:void 0,"undefined"!=typeof mraid&&null!==mraid&&mraid.resize(),c();case"expand":return this.resize=!0,this.closeCallback=null!=(s=e.params)?s.closeCallback:void 0,"undefined"!=typeof mraid&&null!==mraid&&mraid.expand(),c();case"openLink":return"undefined"!=typeof mraid&&null!==mraid?mraid.open(e.params):void 0;case"checkVideoSupport":return i="undefined"!=typeof mraid&&null!==mraid?mraid.supports("inlineVideo"):void 0,n(i);case"playVideo":return"undefined"!=typeof mraid&&null!==mraid?mraid.playVideo(e.params):void 0;case"setResizeProperties":return a="undefined"!=typeof mraid&&null!==mraid&&"function"==typeof mraid.getCurrentPosition?mraid.getCurrentPosition():void 0,e.params.offsetY||(e.params.offsetY=(null!=a?a.y:void 0)>e.params.height-e.params.baseHeight?e.params.height-e.params.baseHeight:0),delete e.params.baseHeight,delete e.params.baseWidth,"undefined"!=typeof mraid&&null!==mraid?mraid.setResizeProperties(e.params):void 0;case"setExpandProperties":return"undefined"!=typeof mraid&&null!==mraid?mraid.setExpandProperties({width:null!=(l=e.params.width)?l:screen.width,height:null!=(u=e.params.height)?u:screen.height}):void 0;case"close":return"default"===("undefined"!=typeof mraid&&null!==mraid?mraid.getState():void 0)&&this.resize?!1:"undefined"!=typeof mraid&&null!==mraid?mraid.close():void 0;case"useCustomClose":return"undefined"!=typeof mraid&&null!==mraid?mraid.useCustomClose(null!=(p=e.params)?p:!0):void 0;case"loadMraid":return t=document.createElement("script"),t.setAttribute("type","text/javascript"),t.setAttribute("src","mraid.js"),t.onerror=function(){return console.error("MRAID not found, serving Mobile Web")},t.onload=function(){return console.log("MRAID found, serving Mobile In-App")},document.head.appendChild(t);default:return null!=(m=r.Console)?m.log("mraid request: Unknown Function: "+e.fn):void 0}},i}(r.BaseChannel)}).call(this);
(function(){var t,s,e=function(t,s){function e(){this.constructor=t}for(var i in s)n.call(s,i)&&(t[i]=s[i]);return e.prototype=s.prototype,t.prototype=new e,t.__super__=s.prototype,t},n={}.hasOwnProperty;t="undefined"!=typeof window&&null!==window?window:global,s=null!=t.spongecell?t.spongecell:t.spongecell={},s.SetupChannel=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,n),i.prototype._init=function(){return this.checkFullScreenAccess(),s.Utils.convertUrls(this.options,["creativeSwfUrl","sharedBaseUrl","studioAssetBaseUrl"]),s.Utils.convertUrls(this.options.urls),null!=this.options.assets?this.baseAssets():void 0},i.prototype.start=function(){var t,e,n,i;return t=this.findClickTags(this.impTag.params),this.options.iid=this.iid,this.options.flashData=null!=(e=null!=(n=this.impTag.params)?n.flashData:void 0)?e:{},this.options.mergedLandingPages=this.mergeClickTagsAndLandingPages(t,this.options.landingPages),this.options.clickTagsAndLandingPages=this.flashifyLandingPages(t,this.options.mergedLandingPages),s.Console.log("ClickTags + Landing Pages: %o",this.options.clickTagsAndLandingPages),s.Utils.extend(this.options,this.options.clickTagsAndLandingPages),0===(null!=(i=this.options.features)?i.length:void 0)&&(this.options.features=null),this.impTag.clickTags=t},i.prototype.send=function(t,e){var n,i;return t.action?"polite"===t.action?(this.impTag.sendDebugMessage({description:"tag_polite",type:"start"}),i=!!document&&"complete"===document.readyState,n=function(t){return function(){return e(),t.impTag.sendDebugMessage({description:"tag_polite",type:"stop"})}}(this),i?n():s.Event.onLoad(n)):void 0:(s.Engagement.removeWrappers(),this.options.mraid="undefined"!=typeof mraid&&null!==mraid,this.options.topDimensions=this.impTag.topDimensions,e(this.options))},i.prototype.baseAssets=function(){var t,s,e,n,i;n=this.options.assets,i=[];for(e in n)t=n[e],t.url=""+this.options.studioAssetBaseUrl+t.path,i.push(function(){var e,n,i,o,r;for(o=null!=(i=t.children)?i:[],r=[],e=0,n=o.length;n>e;e++)s=o[e],r.push(s.url=""+this.options.studioAssetBaseUrl+s.path);return r}.call(this));return i},i.prototype.flashifyLandingPages=function(t,s){var e,n,i,o,r,a;i={};for(n in s)a=s[n],n="clickTag"+n,i[n]=a;for(n=e=1;20>=e;n=++e)null==i[o="clickTag"+n]&&(i[o]=null!=(r=t.clickTag)?r:"");return i},i.prototype.checkFullScreenAccess=function(){var e,n,i,o;if(t!==top)try{if(n=null!=t?t.frameElement:void 0,i=t,!n)return void(this.options.disableFullScreen=!0);for(o=[];n&&i&&i!==top;)n.setAttribute("allowfullscreen","true"),n.setAttribute("webkitallowfullscreen","true"),n.setAttribute("mozallowfullscreen","true"),i=i.parent,o.push(n=i.frameElement);return o}catch(r){return e=r,s.Console.log("Iframe not configured for full-screen video"),this.options.disableFullScreen=!0}},i}(s.BaseChannel)}).call(this);
(function(){var t,i,s=function(t,i){function s(){this.constructor=t}for(var n in i)o.call(i,n)&&(t[n]=i[n]);return s.prototype=i.prototype,t.prototype=new s,t.__super__=i.prototype,t},o={}.hasOwnProperty;t="undefined"!=typeof window&&null!==window?window:global,i=null!=t.spongecell?t.spongecell:t.spongecell={},i.TrackingChannel=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return s(o,t),o.prototype._init=function(){var t;t=this.impTag.params,this._checkParam(t,"activityPixel")&&(this.options.pixels.activity=t.activityPixel),this._checkParam(t,"placementId")&&(this.options.placement.id=t.placementId),this._checkParam(t,"siteId")&&(this.options.site.id=t.siteId),this._checkParam(t,"deviceId")&&(this.options.deviceId=t.deviceId),this._checkParam(t,"puid")&&(this.options.puid=t.puid),this._checkParam(t,"xaid")&&(this.options.xaid=t.xaid),this._checkParam(t,"xcid")&&(this.options.xcid=t.xcid),this._checkParam(t,"xcrv")&&(this.options.xcrv=t.xcrv),this._checkParam(t,"xauc")&&(this.options.xauc=t.xauc);try{i.Macros.get().init(this.options,this.impTag.params)}catch(s){}return i.Utils.convertUrls(this.options,["heatMapBaseUrl","trackingBaseUrl"]),this.options.heatMapTrackingEnabled=this.options.heatMapEnabled,this.options.heatmapBaseURL=this.options.heatMapBaseUrl,this.options.reportBaseURL=this.options.trackingBaseUrl,this.options.trackingDisabled=!this.options.trackingEnabled,this.options.iid=this.iid,this.impTag.tracker=this.tracker=new i.Tracker(this.options),this.impTag.creativeImpressionTrackingOptions={}},o.prototype.send=function(t){return this.tracker.trackEvent(t)},o.prototype._checkParam=function(t,i){return t[i]&&!this._isMacro(i,t.activityPixel)},o.prototype._assignThirdPartyPixel=function(t){var i,s;return i=t+"s",(null!=(s=this.options.pixels[i])?s.length:void 0)>0?this.options.pixels[t]=this.options.pixels[i][0]:void 0},o.prototype._isMacro=function(t,i){var s,o,n;n=this.options.macros[t]||[];for(s in n)if(o=n[s],i===o)return!0;return!1},o}(i.BaseChannel)}).call(this);
(function(){var n,e,t=function(n,e){function t(){this.constructor=n}for(var i in e)r.call(e,i)&&(n[i]=e[i]);return t.prototype=e.prototype,n.prototype=new t,n.__super__=e.prototype,n},r={}.hasOwnProperty;n="undefined"!=typeof window&&null!==window?window:global,e=null!=n.spongecell?n.spongecell:n.spongecell={},e.LoadingChannel=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return t(e,n),e.prototype._init=function(){},e.prototype.start=function(){},e.prototype.send=function(n){return this[n.action]()},e.prototype.styleTag=function(n){var e,t,r,i,s,a,o;return s=n.preloaderType,o=n.width,i=n.height,e=n.bgColor,r=n.fgColor,a=document.createElement("style"),t="#preloader-container {\n  background: "+e+";\n  margin: auto;\n  width: '100%';\n  height: '100%';\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.centered-container {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}",t+=function(){switch(s){case"circle":return this.circleCss(r);case"bars":return this.barsCss(r);case"dots":return this.dotsCss(r)}}.call(this),a.innerHTML=t,a},e.prototype.preloaderContainer=function(n){var e,t;return t=document.createElement("div"),t.id="preloader-container",e=document.createElement("div"),e.className="centered-container",e.innerHTML=function(){switch(n){case"circle":return this.circleHtml();case"bars":return this.barsHtml();case"dots":return this.dotsHtml()}}.call(this),t.appendChild(e),t},e.prototype.removeLoader=function(){var n;return n=document.getElementById("preloader-container"),null!=n?n.parentNode.removeChild(n):void 0},e.prototype.renderPreloader=function(){var n,e,t;if("none"!==this.options.animation.type&&document.body&&window!==top)return e=this.options.animation.fgColor,n=this.options.animation.bgColor,t=this.options.animation.type,document.head.appendChild(this.styleTag({preloaderType:t,width:this.impTag.size.width,height:this.impTag.size.height,bgColor:n,fgColor:e})),document.body.appendChild(this.preloaderContainer(t))},e.prototype.circleHtml=function(){return'<div class="sp sp-circle"></div>'},e.prototype.barsHtml=function(){return'<div class="spinner">\n  <div class="rect1"></div>\n  <div class="rect2"></div>\n  <div class="rect3"></div>\n  <div class="rect4"></div>\n  <div class="rect5"></div>\n</div>'},e.prototype.dotsHtml=function(){return'<div class="sk-circle">\n  <div class="sk-circle1 sk-child"></div>\n  <div class="sk-circle2 sk-child"></div>\n  <div class="sk-circle3 sk-child"></div>\n  <div class="sk-circle4 sk-child"></div>\n  <div class="sk-circle5 sk-child"></div>\n  <div class="sk-circle6 sk-child"></div>\n  <div class="sk-circle7 sk-child"></div>\n  <div class="sk-circle8 sk-child"></div>\n  <div class="sk-circle9 sk-child"></div>\n  <div class="sk-circle10 sk-child"></div>\n  <div class="sk-circle11 sk-child"></div>\n  <div class="sk-circle12 sk-child"></div>\n</div>'},e.prototype.dotsCss=function(n){return".sk-circle {\n  margin: 100px auto;\n  width: 40px;\n  height: 40px;\n  position: relative;\n}\n.sk-circle .sk-child {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.sk-circle .sk-child:before {\n  content: '';\n  display: block;\n  margin: 0 auto;\n  width: 15%;\n  height: 15%;\n  background-color: "+n+";\n  border-radius: 100%;\n  -webkit-animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n          animation: sk-circleBounceDelay 1.2s infinite ease-in-out both;\n}\n.sk-circle .sk-circle2 {\n  -webkit-transform: rotate(30deg);\n      -ms-transform: rotate(30deg);\n          transform: rotate(30deg); }\n.sk-circle .sk-circle3 {\n  -webkit-transform: rotate(60deg);\n      -ms-transform: rotate(60deg);\n          transform: rotate(60deg); }\n.sk-circle .sk-circle4 {\n  -webkit-transform: rotate(90deg);\n      -ms-transform: rotate(90deg);\n          transform: rotate(90deg); }\n.sk-circle .sk-circle5 {\n  -webkit-transform: rotate(120deg);\n      -ms-transform: rotate(120deg);\n          transform: rotate(120deg); }\n.sk-circle .sk-circle6 {\n  -webkit-transform: rotate(150deg);\n      -ms-transform: rotate(150deg);\n          transform: rotate(150deg); }\n.sk-circle .sk-circle7 {\n  -webkit-transform: rotate(180deg);\n      -ms-transform: rotate(180deg);\n          transform: rotate(180deg); }\n.sk-circle .sk-circle8 {\n  -webkit-transform: rotate(210deg);\n      -ms-transform: rotate(210deg);\n          transform: rotate(210deg); }\n.sk-circle .sk-circle9 {\n  -webkit-transform: rotate(240deg);\n      -ms-transform: rotate(240deg);\n          transform: rotate(240deg); }\n.sk-circle .sk-circle10 {\n  -webkit-transform: rotate(270deg);\n      -ms-transform: rotate(270deg);\n          transform: rotate(270deg); }\n.sk-circle .sk-circle11 {\n  -webkit-transform: rotate(300deg);\n      -ms-transform: rotate(300deg);\n          transform: rotate(300deg); }\n.sk-circle .sk-circle12 {\n  -webkit-transform: rotate(330deg);\n      -ms-transform: rotate(330deg);\n          transform: rotate(330deg); }\n.sk-circle .sk-circle2:before {\n  -webkit-animation-delay: -1.1s;\n          animation-delay: -1.1s; }\n.sk-circle .sk-circle3:before {\n  -webkit-animation-delay: -1s;\n          animation-delay: -1s; }\n.sk-circle .sk-circle4:before {\n  -webkit-animation-delay: -0.9s;\n          animation-delay: -0.9s; }\n.sk-circle .sk-circle5:before {\n  -webkit-animation-delay: -0.8s;\n          animation-delay: -0.8s; }\n.sk-circle .sk-circle6:before {\n  -webkit-animation-delay: -0.7s;\n          animation-delay: -0.7s; }\n.sk-circle .sk-circle7:before {\n  -webkit-animation-delay: -0.6s;\n          animation-delay: -0.6s; }\n.sk-circle .sk-circle8:before {\n  -webkit-animation-delay: -0.5s;\n          animation-delay: -0.5s; }\n.sk-circle .sk-circle9:before {\n  -webkit-animation-delay: -0.4s;\n          animation-delay: -0.4s; }\n.sk-circle .sk-circle10:before {\n  -webkit-animation-delay: -0.3s;\n          animation-delay: -0.3s; }\n.sk-circle .sk-circle11:before {\n  -webkit-animation-delay: -0.2s;\n          animation-delay: -0.2s; }\n.sk-circle .sk-circle12:before {\n  -webkit-animation-delay: -0.1s;\n          animation-delay: -0.1s; }\n\n@-webkit-keyframes sk-circleBounceDelay {\n  0%, 80%, 100% {\n    -webkit-transform: scale(0);\n            transform: scale(0);\n  } 40% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n}\n\n@keyframes sk-circleBounceDelay {\n  0%, 80%, 100% {\n    -webkit-transform: scale(0);\n            transform: scale(0);\n  } 40% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n}"},e.prototype.barsCss=function(n){return".spinner {\n  margin: 100px auto;\n  width: 50px;\n  height: 70px;\n  text-align: center;\n  font-size: 10px;\n}\n\n.spinner > div {\n  background-color: "+n+";\n  height: 100%;\n  width: 6px;\n  display: inline-block;\n\n  -webkit-animation: sk-stretchdelay 1.2s infinite ease-in-out;\n  animation: sk-stretchdelay 1.2s infinite ease-in-out;\n}\n\n.spinner .rect2 {\n  -webkit-animation-delay: -1.1s;\n  animation-delay: -1.1s;\n}\n\n.spinner .rect3 {\n  -webkit-animation-delay: -1.0s;\n  animation-delay: -1.0s;\n}\n\n.spinner .rect4 {\n  -webkit-animation-delay: -0.9s;\n  animation-delay: -0.9s;\n}\n\n.spinner .rect5 {\n  -webkit-animation-delay: -0.8s;\n  animation-delay: -0.8s;\n}\n\n@-webkit-keyframes sk-stretchdelay {\n  0%, 40%, 100% { -webkit-transform: scaleY(0.4) }\n  20% { -webkit-transform: scaleY(1.0) }\n}\n\n@keyframes sk-stretchdelay {\n  0%, 40%, 100% {\n    transform: scaleY(0.4);\n    -webkit-transform: scaleY(0.4);\n  }  20% {\n    transform: scaleY(1.0);\n    -webkit-transform: scaleY(1.0);\n  }\n}"},e.prototype.circleCss=function(n){return".sp {\n  width: 32px;\n  height: 32px;\n  clear: both;\n  margin: 25% auto;\n}\n\n/* Spinner Circle Rotation */\n.sp-circle {\n  border: 5px rgba(0, 0, 0, 0.25) solid;\n  border-top: 5px "+n+" solid;\n  border-radius: 50%;\n  -webkit-animation: spCircRot .6s infinite linear;\n  animation: spCircRot .6s infinite linear;\n}\n\n@-webkit-keyframes spCircRot {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(359deg);\n  }\n}\n@keyframes spCircRot {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(359deg);\n  }\n}"},e}(e.BaseChannel)}).call(this);
(function(){"use strict";var e,t,r,n,i,s=function(e,t){return function(){return e.apply(t,arguments)}},l=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=null!=window.spongecell?window.spongecell:window.spongecell={},r=null!=n.providers?n.providers:n.providers={},null==r.callbacks&&(r.callbacks={}),null==r.responses&&(r.responses={}),null==r.sent&&(r.sent={}),null==r.written&&(r.written={}),e=null!=r.ExternalContent?r.ExternalContent:r.ExternalContent=function(){function e(){}return e}(),i=n.Utils,t=n.Net,n.ModernFeatureChannel=function(t){function o(e,t,r){this._setupUuids=s(this._setupUuids,this),this._featureCallbackFn=s(this._featureCallbackFn,this);var l,u,a,p,c,d,f,h,m,g,v,y,_,k;if(o.__super__.constructor.call(this,e,t,r),this.options)for(this.features=null!=(l=this.options).features?l.features:l.features=[],i.convertUrls(this.options,["ipLocateUrl","locationsUrl","studioAssetBaseUrl"]),m=this.features,a=0,f=m.length;f>a;a++)if(u=m[a],i.convertUrls(u,["url"]),n.Net.isSSL()&&u.fallback)for(v=null!=(g=u.fallback.items)?g:[],c=0,h=v.length;h>c;c++){p=v[c],y=!1,_=!1;for(d in p)k=p[d],"src"===d?y=!0:"src.https"===d&&(_=!0);y&&_&&(p.src=p["src.https"])}}return l(o,t),o.prototype.buildAssetUrls=function(e){var t,r,n,i;for(i=[],r=0,n=e.length;n>r;r++)t=e[r],i.push(t.url=""+this.options.studioAssetBaseUrl+t.path);return i},o.prototype.start=function(){var e,t,n,i,s;for(i=this.features,t=0,n=i.length;n>t;t++)e=i[t],e.provider=new r[null!=(s=e.provider)?s:"ExternalContent"](this.impTag,this.options,this.iid,e),e.provider.buildFeatureUrl(),e.processorId&&r.written[e.url]||(e.processorId&&(r.written[e.url]=!0),e.provider.writeRequest());return void 0},o.prototype.send=function(e,t){var s,l,o,u,a,p,c,d,f;if(o=i.isObject(e.feature)?e.feature:{id:e.featureId,name:e.featureName,type:e.featureType},o.name=null!=(p=o.name)?p.toLowerCase():void 0,o.type=null!=(c=o.type)?c.toLowerCase():void 0,l=this._findFeature(o)||n.Console.debug("No Feature matching %o found in settings",o)||o,l.url){if(r.responses[l.url])return void t(r.responses[l.url]);if(l.processorId&&r.sent[l.url])return null==(s=r.callbacks)[u=l.url]&&(s[u]=[]),void r.callbacks[l.url].push(t);l.processorId&&!r.sent[l.url]&&(r.sent[l.url]=!0)}return f=function(r){return function(n){var i,s,o,u,a;return(null!=n?n.items:void 0)&&null!=(a=null!=(i=n.items)?i.length:void 0)&&a<(null!=(s=null!=l?l.minItems:void 0)?s:0)&&(u=null!=(o=(null!=l?l.minItems:void 0)-a)?o:0,n.items=n.items.concat(l.fallback.items.slice(0,u))),r._sortItemsByMetadata(n),r._doFeature({feature:l,message:e,callback:t,response:n})}}(this),void(null!=l.processorId?null!=l.url?(a=l.provider,d=l.provider.providerRequests[l.id],d.handleResponse=f,a.checkRequest()||(d.timer=window.setTimeout(function(){return a.checkRequest(!0)},a.timeout))):f(l.fallback):l.url&&"feed"===l.type?(n.callbacks["fed"+l.feedId]=f,n.Net.writeScript(l.url)):f())},o.prototype._replaceMacros=function(e){var t,r,i;if("object"==typeof e){r=[];for(t in e)i=e[t],r.push("href"===t&&"string"==typeof i?e[t]=n.Macros.get().replace(i):"object"==typeof i?this._replaceMacros(i):void 0);return r}},o.prototype._featureCallbackFn=function(e,t){return function(n){return function(i){var s,l,o,u;if(i&&"function"==typeof n._replaceMacros&&n._replaceMacros(i),n._setupUuids(i,t),"function"==typeof e&&e(null!=i?i:t),r.responses[t.url]=i,r.callbacks[t.url])for(u=r.callbacks[t.url],l=0,o=u.length;o>l;l++)(s=u[l])(i);return void 0}}(this)},o.prototype._doFeature=function(e){var t,r,n,i,s;return r=e.feature,n=e.message,t=e.callback,s=e.response,"map"===r.type?this._doMap(r,null!=(i=n.params)?i:{},this._featureCallbackFn(t,r)):this._featureCallbackFn(t,r)(s&&n.studio?this._doStudio(r,s):s)},o.prototype._doMap=function(t,r,n){var i,s,l,o,u;return r.upload_id=null!=(i=null!=(s=t.importId)?s:null!=(l=t["import"])?l.id:void 0)?i:null!=(o=t.settings)&&null!=(u=o["import"])?u.id:void 0,e.ipLocationRequest(this.options,r,!0).then(function(e){return n(e)})},o.prototype._doStudio=function(e,t){var r,n,s,l,o,u,a,p,c,d,f,h,m,g,v,y,_,k,b,w,C,T,U,F,I,M,B;for(n=null!=(m=e.dynamicAssets)?m:{},p=null!=(g=e.dynamicLandingPages)?g:{},_=null!=(y=t.items)?y:[],F=[],o=0,c=_.length;c>o;o++){for(u=_[o],I={assets:{},landingPages:{},properties:{},item_id:u.item_id,id:u.id},C=null!=(k=null!=(b=t.properties)?b:null!=(w=e.fallback)?w.properties:void 0)?k:[],a=0,d=C.length;d>a;a++)h=C[a],M=u[h.name],M&&null!=h.variant&&(M=M[h.variant]),M&&(B=i.isObject(M)?null!=(T=null!=(U=M.src)?U:M.href)?T:M.text:M,null!=n[h.id]?(r=i.extend({},n[h.id],"object"==typeof M?M:{},{name:h.name},{url:B},{propId:h.id}),delete r.src,r.children&&this.buildAssetUrls(r.children),I.assets[r.id]=r):null!=(f=p[h.id])?(B&&(l=B.replace(/\[clickTag.*?\]/g,null!=(v=this.impTag.clickTags.clickTag)?v:"")),I.landingPages[f.key]=l):null!=M&&(M=I.properties[h.id]={propId:h.id,name:h.name,text:B},"layout"===h.name&&null!=M&&(I.layout=M.text)));s=this.findClickTags(this.impTag.params),I.landingPages=this.mergeClickTagsAndLandingPages(s,I.landingPages,!0),F.push(I)}return F},o.prototype._findFeature=function(e){var t,r,n,i,s,l;if(this.options.features&&(null!=(i=null!=(s=e.id)?s:e.name)?i:e.type))for(l=this.options.features,r=0,n=l.length;n>r;r++)if(t=l[r],e.id&&e.id===t.id||e.name&&e.name===t.name||e.type&&e.type===t.type)return t;return void 0},o.prototype._setupUuids=function(e,t){var r,n,i,s,l,o,u,a,p,c,d,f,h;for(null==(r=this.impTag.tracker).itemsByScreen&&(r.itemsByScreen={}),p=null!=e?e:[],d=[],i=0,o=p.length;o>i;i++){for(s=p[i],h={},a=null!=(c=this.impTag.processors[t.processorId])?c:[],l=0,u=a.length;u>l;l++)f=a[l],null==h[f]&&(h[f]=[]),h[f].push(s.item_id),null==(n=this.impTag.tracker.itemsByScreen)[f]&&(n[f]=[]),this.impTag.tracker.itemsByScreen[f].push(s.item_id);this.impTag.tracker.itemsByUuid[s.item_id]=s.id,d.push(s.screenMap=h)}return d},o}(n.BaseChannel),window.__karma__||(n.FeatureChannel=n.ModernFeatureChannel)}).call(this);
(function(){var t,e,i=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;t="undefined"!=typeof window&&null!==window?window:global,e=null!=t.spongecell?t.spongecell:t.spongecell={},e.BackupTag=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,t),r.prototype._init=function(){return e.Utils.convertUrls(this,["imageUrl"])},r.prototype.checkEnvironment=function(t){return t.screen="DEFAULT",!0},r.prototype.html=function(){var t,i,r,n,c,o,s,l,a,h,u;if(i=(null!=(o=this.border)?o.thickness:void 0)?this.size.height-2*this.border.thickness:this.size.height-2,r=(null!=(s=this.border)?s.thickness:void 0)?this.size.width-2*this.border.thickness:this.size.width-2,t=(null!=(l=this.border)?l.thickness:void 0)?"border: "+this.border.thickness+"px solid "+this.border.color+";":"border: 1px solid #000;",n='<img alt="" border="0" height="'+i+'" src="'+this.imageUrl+'" width="'+r+'" style="'+t+'" />',null!=this.linkUrl){h=this.linkUrl,h=h.replace(/\*\*click_tag\*\*/g,encodeURIComponent(this.clickTags.clickTag)),h=h.replace(/\*\*iid\*\*/g,this.tracker.iid),h=h.replace(/\*\*random\*\*/g,e.Utils.random()),h=h.replace(/\*\*placement_id\*\*/g,this.tracker.placement.id?e.Net.encode(this.tracker.placement.id):""),h=h.replace(/\*\*site_id\*\*/g,this.tracker.site.id?e.Net.encode(this.tracker.site.id):""),this.html5&&e.Utils.isUrl(this.clickTags.clickTag)&&(h=this.clickTags.clickTag+h),a=this.macros;for(c in a)u=a[c],h=h.replace("%"+c+"%",u);return'<a href="'+h+'" target="_blank" id="backup_link">'+n+"</a>"}return n},r.prototype.addClickthroughListener=function(){var t,i;return i=function(t){return function(){return t.clicked?(event.preventDefault(),event.stopPropagation()):t.tracker.trackExternalPixels("click_through",{}),t.clicked=!0,setTimeout(function(){return t.clicked=!1},400)}}(this),t=document.getElementById("backup_link"),t?e.Event.on(t,"click",function(){return function(){return i()}}(this)):void 0},r}(e.CreativeTag)}).call(this);
(function(){var t,e,r=function(t,e){function r(){this.constructor=t}for(var s in e)i.call(e,s)&&(t[s]=e[s]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;t="undefined"!=typeof window&&null!==window?window:global,e=null!=t.spongecell?t.spongecell:t.spongecell={},e.StudioTag=function(t){function i(t,e,r){this.iid=t,this.params=r,i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.checkEnvironment=function(t){return this.checkBrowser()?!0:(t.nohtml5=!0,!1)},i.prototype.checkBrowser=function(){return this.platform=e.Browser.isMobile()?"mobile":"desktop",e.Browser.supported()},i.prototype._setupMRAIDDimensions=function(){var t;return t=mraid.getMaxSize&&mraid.getMaxSize(),t?(null==this.size&&(this.size={}),this.size.width=t.width,this.size.height=t.height):void 0},i.prototype._receiveMessage=function(t,r){var i;return i=function(t){return function(e,r){return function(i){return t._sendMessage({topic:e.topic,callback:e.callback,response:i,override:r})}}}(this),"OVERRIDE"===t.iid?(this.mangled_vpaid=!0,t.iid=this.iid,e.Console.debug("Received postMessage from Studio Ad %s: %o",this.iid,t),e.Broker.sendOnChannel(t,i(t,"OVERRIDE"))):this.iid===t.iid&&(t.iid=this.iid,e.Console.debug("Received postMessage from Studio Ad %s: %o",this.iid,t),this.mangled_vpaid||r.origin===this.iframeBaseUrl||0===r.origin.indexOf("http://localhost")||r.origin.match(/(\.|\/)spongecell\.com/))?e.Broker.sendOnChannel(t,i(t)):void 0},i}(e.CreativeTag)}).call(this),function(){var t,e,r=function(t,e){function r(){this.constructor=t}for(var s in e)i.call(e,s)&&(t[s]=e[s]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;t="undefined"!=typeof window&&null!==window?window:global,e=null!=t.spongecell?t.spongecell:t.spongecell={},e.StudioScriptTag=function(i){function s(){return s.__super__.constructor.apply(this,arguments)}return r(s,i),s.prototype._init=function(){return e.Utils.convertUrls(this,["cssUrl","jsUrl"]),null==this.safeFrames&&(this.safeFrames="undefined"!=typeof $sf&&null!==$sf?$sf.ext:void 0),null==this.size&&(this.size={}),null!=this.size?this.size:this.size={}},s.prototype.checkEnvironment=function(t){var r,i;return this.checkBrowser()?!this.expansionRequired||e.Expansion.allowedAccessToTop()||this.safeFrames?!0:this.params.busterUrl||this.params.busterPath?(this.redirectToIframeBuster(),this.iframeBusted=!0):(null==t.creativeOptions&&(t.creativeOptions={}),null==(r=t.creativeOptions).noflash&&(r.noflash=!0),null==(i=t.creativeOptions).screen&&(i.screen="DEFAULT"),!1):(t.nohtml5=!0,!1)},s.prototype.html=function(){return window.mraid&&this._setupMRAIDDimensions(),"<link rel='stylesheet' media='all' type='text/css' href='"+this.cssUrl+"' class='spongecell-style-"+this.iid+"' >"},s.prototype.delegateEvents=function(){var t,r,i,s,o,n,a,l,p;if(p=document.createElement("script"),p.type="text/javascript",p.src=this.jsUrl,s=document.getElementById("spongecell-ad-"+this.iid),r=null!=(o=null!=(n=this.border)?n.thickness:void 0)?o:1,t=null!=(a=null!=(l=this.border)?l.color:void 0)?a:"transparent",i="0 0 0 "+r+"px "+t,e.Expansion.inIframe()&&e.Expansion.allowedAccessToTop())try{window.frameElement.style.boxShadow=i}catch(u){s.style.boxShadow=i}else s.style.boxShadow=i;return"polite"===this.loading?e.Event.onLoad(function(){return s.appendChild(p)}):s.appendChild(p)},s.prototype.redirectToIframeBuster=function(){return this.params.busterDomain||this.params.busterUrl?this.redirect(this.params.busterUrl?this._getBusterUrl()+"?"+this.buildBusterQS():location.protocol+"//"+this.params.busterDomain+"/"+this.params.busterPath+"?"+this.buildBusterQS()):e.Console.log("Iframe Buster Params not set")},s.prototype.redirect=function(r){return this.redirected?void 0:(e.Console.log("Iframe buster redirect: "+r),t.location.replace(r),this.redirected=!0)},s.prototype.buildBusterQS=function(){var t,e,r,i;e=[],e.push("adTagId="+this.adTagId),delete this.params.busterUrl,delete this.params.busterDomain,delete this.params.busterPath,r=this.params;for(t in r)i=r[t],e.push(t+"="+i);return e.join("&")},s.prototype._getBusterUrl=function(){var t,e,r,i,s,o,n;if("*"===this.params.busterUrl){o=document.referrer;try{for(;window.parent&&window.parent!==top;)n=window.parent,i=n.document.referrer,o=i}catch(a){e=a,o=document.referrer}return t=this._getDomain(o),r=null!=(s=this.params.busterPath)?s:"spongecell/spongecell_iframebuster.html",window.location.protocol+"//"+t+"/"+r}return this.params.busterUrl},s.prototype._getDomain=function(t){var e;return e=t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0],e=e.split(":")[0]},s}(e.StudioTag)}.call(this);
(function(){var i,e,n=function(i,e){function n(){this.constructor=i}for(var o in e)t.call(e,o)&&(i[o]=e[o]);return n.prototype=e.prototype,i.prototype=new n,i.__super__=e.prototype,i},t={}.hasOwnProperty;i="undefined"!=typeof window&&null!==window?window:global,e=null!=i.spongecell?i.spongecell:i.spongecell={},e.StudioTag=function(i){function t(i,e,n){this.iid=i,this.params=n,t.__super__.constructor.apply(this,arguments)}return n(t,i),t.prototype.checkEnvironment=function(i){return this.checkBrowser()?!0:(i.nohtml5=!0,!1)},t.prototype.checkBrowser=function(){return this.platform=e.Browser.isMobile()?"mobile":"desktop",e.Browser.supported()},t.prototype._setupMRAIDDimensions=function(){var i;return i=mraid.getMaxSize&&mraid.getMaxSize(),i?(null==this.size&&(this.size={}),this.size.width=i.width,this.size.height=i.height):void 0},t.prototype._receiveMessage=function(i,n){var t;return t=function(i){return function(e,n){return function(t){return i._sendMessage({topic:e.topic,callback:e.callback,response:t,override:n})}}}(this),"OVERRIDE"===i.iid?(this.mangled_vpaid=!0,i.iid=this.iid,e.Console.debug("Received postMessage from Studio Ad %s: %o",this.iid,i),e.Broker.sendOnChannel(i,t(i,"OVERRIDE"))):this.iid===i.iid&&(i.iid=this.iid,e.Console.debug("Received postMessage from Studio Ad %s: %o",this.iid,i),this.mangled_vpaid||n.origin===this.iframeBaseUrl||0===n.origin.indexOf("http://localhost")||n.origin.match(/(\.|\/)spongecell\.com/))?e.Broker.sendOnChannel(i,t(i)):void 0},t}(e.CreativeTag)}).call(this),function(){var i,e,n=function(i,e){function n(){this.constructor=i}for(var o in e)t.call(e,o)&&(i[o]=e[o]);return n.prototype=e.prototype,i.prototype=new n,i.__super__=e.prototype,i},t={}.hasOwnProperty;i="undefined"!=typeof window&&null!==window?window:global,e=null!=i.spongecell?i.spongecell:i.spongecell={},e.StudioIframeTag=function(i){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,i),t.prototype._init=function(){var i,n,t,o,r,s;if(e.Utils.convertUrls(this,["backgroundImageUrl","iframeUrl","iframeBaseUrl"]),this.responsive=!this.size,e.Browser.isMobile()){try{e.Expansion.allowedAccessToTop()&&("undefined"!=typeof window&&null!==window?window.innerWidth:void 0)<=1&&("undefined"!=typeof window&&null!==window?window.innerHeight:void 0)<=1&&!window.mraid?(s=top.window.innerWidth,t=top.window.innerHeight,null!=(o=window.frameElement)&&(o.style.width=s+"px"),null!=(r=window.frameElement)&&(r.style.height=t+"px")):(i=this._getDimensionsFromWindow(),s=i.width,t=i.height)}catch(d){n=d,e.Console.log("Error setting dimensions of current frame: ",n),i=this._getDimensionsFromWindow(),s=i.width,t=i.height}return null!=this.size?this.size:this.size={width:s,height:t}}return null!=this.size?this.size:this.size={width:window.innerWidth,height:window.innerHeight}},t.prototype._getDimensionsFromWindow=function(){var i,e;return e=("undefined"!=typeof window&&null!==window?window.innerWidth:void 0)&&screen.width>("undefined"!=typeof window&&null!==window?window.innerWidth:void 0)?window.innerWidth:screen.width,i=("undefined"!=typeof window&&null!==window?window.innerHeight:void 0)&&screen.height>("undefined"!=typeof window&&null!==window?window.innerHeight:void 0)?window.innerHeight:screen.height,{width:e,height:i}},t.prototype.html=function(){var i,n,t,o,r,s,d,l,h,a,u,p,w;return this.responsive&&window.mraid&&this._setupMRAIDDimensions(),t="",s=this.size.width,o=this.size.height,r="width: "+s+"px; height: "+o+"px; position: absolute; top: -1px; left: -1px;",this.backgroundImageUrl&&(t+='<div style="'+r+'">\n  <img src="'+this.backgroundImageUrl+'" width="'+s+'" height="'+o+'">\n</div>'),w=this.getIframeId()+"-wrapper",t+=e.Engagement.wrapperHtml({id:w})+'\n<iframe scrolling="no" id="'+this.getIframeId()+'"\n        style="'+r+' border: 0; margin: 0; overflow: hidden; padding: 0;"\n        frameborder="0"\n        allowfullscreen webkitallowfullscreen="true" mozallowfullscreen="true">\n</iframe>',n=null!=(h=null!=(a=this.border)?a.thickness:void 0)?h:1,i=null!=(u=null!=(p=this.border)?p.color:void 0)?u:"transparent",l=this.size.width,d=this.size.height,'<div style="width: '+l+"px;\n            height: "+d+"px;\n            border: "+n+"px solid "+i+';\n            box-sizing: border-box;\n            margin: 0;\n            overflow: hidden;\n            padding: 0;\n            position: relative;">\n  '+t+"\n</div>"},t.prototype.delegateEvents=function(){return e.Event.addMessageListener(function(i){return function(e,n){return i._receiveMessage(e,n)}}(this)),"polite"!==this.loading||window.mraid?this._loadIframe():e.Event.onLoad(function(i){return function(){return i._loadIframe()}}(this))},t.prototype.getIframe=function(){return document.getElementById(this.getIframeId())},t.prototype.getIframeId=function(){return"spongecell-studio-"+this.iid},t.prototype._loadIframe=function(){var i,e;return null!=this.iframeUrl?(e=this.iframeUrl+"/"+this.platform+"?sponge="+this.iid,this.params.screenshot&&(e+="&screenshot=true"),null!=(i=this.getIframe())?i.src=e:void 0):void 0},t.prototype._sendMessage=function(i){var n;return e.Console.debug("Sending message back to Studio Ad %s: %o",this.iid,i),n=JSON.stringify(i),this.getIframe().contentWindow.postMessage(n,this.iframeBaseUrl||"*")},t}(e.StudioTag)}.call(this);
window.spongecellParams = window.spongecellParams || {};
var impressionTag = new spongecell.ImpressionTag(impressionTagOptions, window.spongecellParams);
impressionTag.render();

